<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é¡¹ç›®éš¾ç‚¹äºŒï¼ŒåŠ¨æ€èœå•</title>
      <link href="/2023/06/17/%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6/"/>
      <url>/2023/06/17/%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ï¼Œæ¦‚å¿µ"><a href="#ä¸€ï¼Œæ¦‚å¿µ" class="headerlink" title="ä¸€ï¼Œæ¦‚å¿µ"></a>ä¸€ï¼Œæ¦‚å¿µ</h2><p>å®é™…å¼€å‘é¡¹ç›®ä¸­æœ‰å¾ˆå¤šçš„è·¯ç”±é¡µé¢ï¼Œæ‰€ä»¥åŠ¨æ€èœå•ä¸èƒ½å†™æ­»ï¼Œåº”è¯¥æ›´åŠ çµæ´»çš„æ¸²æŸ“ï¼Œè®©è·¯ç”±æ¥å†³å®šèœå•æœ‰å¤šå°‘ï¼Œè¿™é‡Œä½¿ç”¨äº†é€’å½’ç»„ä»¶è¿›è¡Œ<br>é€’å½’ç»„ä»¶æ˜¯ä¸€ç§çš„ç»„ä»¶ï¼Œä»–åœ¨è‡ªèº«æ¨¡æ¿ä¸­è°ƒç”¨è‡ªå·±ï¼Œè¿™ç§ç»“æ„ç»„ä»¶å¯ä»¥è¯´å¾ˆæ–¹ä¾¿åœ°å¤„ç†å…·æœ‰åµŒå¥—å±‚æ¬¡å…³ç³»çš„æ•°æ®ã€‚</p><p>å¸¸è§åº”ç”¨åœºæ™¯</p><ul><li>æ•°çŠ¶ç»“æ„å±•ç¤º:é€’å½’ç»„ä»¶å¯ä»¥ç”¨æ¥å±•ç¤ºæ ‘çŠ¶ç»“æ„çš„æ•°æ®ï¼Œæ¯”å¦‚æ–‡ä»¶ç»“æ„ï¼Œè¯„è®ºåˆ—è¡¨ç­‰ï¼Œé€šè¿‡é€’å½’ç»„ä»¶è°ƒç”¨è‡ªèº«ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å¤„ç†å¤šå±‚åµŒå¥—çš„æ•°æ®ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´æ¸…æ™°ã€‚</li><li>æ— é™æ»šåŠ¨åˆ—è¡¨ï¼šå½“éœ€è¦å®ç°ä¸€ä¸ªæ— çº¿æ»šåŠ¨åˆ—è¡¨æ—¶ï¼Œé€šè¿‡é€’å½’åœ°æ¸²æŸ“æ¯ä¸€è¡Œæ•°æ®ï¼Œå¯ä»¥å®ç°ä¸æ–­åŠ è½½æ•°æ®å¹¶å±•ç¤ºåœ¨åˆ—è¡¨ä¸­çš„æ•ˆæœï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</li><li>å¯¼èˆªèœå•ï¼šå¯¹äºå¯¼èˆªèœå•ä¸­çš„å¤šçº§èœå•ï¼Œé€šè¿‡é€’å½’åœ°æ¸²æŸ“æ¯ä¸ªèœå•é¡¹ä»¥åŠå®ƒä»¬çš„å­èœå•ï¼Œå¯ä»¥å®ç°åŠ¨æ€ç”Ÿæˆå¤šçº§å¯¼èˆªèœå•çš„åŠŸèƒ½</li></ul><h2 id="äºŒï¼Œå®ç°æ€è·¯"><a href="#äºŒï¼Œå®ç°æ€è·¯" class="headerlink" title="äºŒï¼Œå®ç°æ€è·¯"></a>äºŒï¼Œå®ç°æ€è·¯</h2><p>å‡†å¤‡</p><ul><li>åˆ›å»ºèœå•å•é¡¹ç»„ä»¶ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºæ˜¾ç¤ºå•ç‹¬èœå•é¡¹çš„ç»„ä»¶</li><li>å®šä¹‰èœå•æ•°æ®ç»“æ„ï¼šåˆ›å»ºä¸€ä¸ªå­˜å‚¨èœå•æ•°æ®çš„æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å”¯ä¸€æ ‡è¯†å’Œå­èœå•é¡¹</li><li>åˆ›å»ºé€’å½’ç»„ä»¶ï¼šåœ¨ç»„ä»¶çš„templateä¸­ä½¿ç”¨ç»„ä»¶è‡ªèº«ï¼Œç”¨äºæ¸²æŸ“å¤šçº§èœå•</li><li>å¤„ç†é€’å½’ç»ˆæ­¢çš„æ¡ä»¶ï¼šå®šä¹‰é€’å½’ç»ˆæ­¢çš„æ¡ä»¶ï¼Œä¾‹å¦‚å½“èœå•é¡¹æ²¡æœ‰å­èœå•é¡¹æ—¶åœæ­¢é€’å½’ã€‚</li><li>æ¸²æŸ“èœå•ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨é€’å½’ç»„ä»¶å¹¶ä¼ é€’èœå•æ•°æ®ï¼Œæ¥åŠ¨æ€ç”Ÿæˆæ•´ä¸ªèœå•</li></ul><p>å¼€å§‹</p><ul><li>å°†è·¯ç”±ä¿¡æ¯è¿›è¡Œæš´éœ²</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> constantRoute = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>, <span class="comment">//èœå•æ ‡é¢˜</span></span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">true</span>, <span class="comment">//ä»£è¡¨è·¯ç”±æ ‡é¢˜åœ¨èœå•ä¸­æ˜¯å¦éšè—  true:éšè— false:ä¸éšè—</span></span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;Promotion&#x27;</span>, <span class="comment">//èœå•æ–‡å­—å·¦ä¾§çš„å›¾æ ‡,æ”¯æŒelement-pluså…¨éƒ¨å›¾æ ‡</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ul><li>æ¥ç€åˆ›å»ºpiniaä»“åº“, å¼•å…¥è·¯ç”±ä¿¡æ¯</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">import</span> &#123; constantRoute, asnycRoute, anyRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;@/router/routes&#x27;</span> <span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">- åˆ›å»ºç”¨æˆ·å°ä»“åº“ï¼Œå¹¶åœ¨ä»“åº“ä¸­æ·»åŠ å­˜å‚¨ç”Ÿæˆèœå•éœ€è¦çš„æ•°ç»„è·¯ç”± menuRoutes  `</span><span class="string">``</span>javascript</span><br><span class="line">  <span class="comment">//åˆ›å»ºç”¨æˆ·å°ä»“åº“</span></span><br><span class="line">  <span class="keyword">const</span> useUserStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;User&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">//å°ä»“åº“å­˜å‚¨æ•°æ®åœ°æ–¹</span></span><br><span class="line">    <span class="attr">state</span>: (): <span class="function"><span class="params">UserState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">token</span>: <span class="title function_">GET_TOKEN</span>(), <span class="comment">//ç”¨æˆ·å”¯ä¸€æ ‡è¯†token</span></span><br><span class="line">        <span class="attr">menuRoutes</span>: constantRoute, <span class="comment">//ä»“åº“å­˜å‚¨ç”Ÿæˆèœå•éœ€è¦æ•°ç»„(è·¯ç”±)</span></span><br><span class="line">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">avatar</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="comment">//å­˜å‚¨å½“å‰ç”¨æˆ·æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‰é’®</span></span><br><span class="line">        <span class="attr">buttons</span>: [],</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><ul><li>æ¥ç€åœ¨å¼•å…¥åˆ°vueé¡µé¢ä¸­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> userUserStore <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/user&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>å¼•å…¥ç»„ä»¶å¹¶è¿›è¡Œçˆ¶å­ä¼ é€’</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Menu</span> <span class="keyword">from</span> <span class="string">&#x27;./menu/index.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"> &lt;!-- æ ¹æ®è·¯ç”±åŠ¨æ€ç”Ÿæˆèœå• --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Menu</span> <span class="attr">:menuList</span>=<span class="string">&quot;userStore.menuRoutes&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Menu</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ¥åˆ°å­ç»„ä»¶é¡µé¢ï¼Œæ¥å—ç»„ä»¶ä¼ é€’çš„ä¿¡æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Menu</span> :menuList=<span class="string">&quot;item.children&quot;</span>&gt;&lt;/<span class="title class_">Menu</span>&gt;</span><br><span class="line"><span class="comment">//è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å…¨éƒ¨è·¯ç”±æ•°ç»„</span></span><br><span class="line"><span class="title function_">defineProps</span>([<span class="string">&#x27;menuList&#x27;</span>])</span><br></pre></td></tr></table></figure><p>æ¥ç€ä¾¿æ˜¯æ¸²æŸ“èœå•äº†ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§æƒ…å†µ</p><p>1ï¼Œæ²¡æœ‰å­èœå•åˆ™ç›´æ¥æ¸²æŸ“ â€“æ²¡æœ‰å­è·¯ç”±</p><p>2ï¼Œæœ‰å­èœå• â€“ æœ‰å­è·¯ç”±ä½†æ˜¯åªæœ‰ä¸€ä¸ªå­è·¯ç”±</p><p>3ï¼Œå¾ªç¯æ¸²æŸ“å­èœå•æ—¶è¦åˆ¤æ–­æ˜¯å¦åˆåŒ…å«å­èœå•ï¼Œå¦‚æœåŒ…å«åˆ™è°ƒç”¨è‡ªèº«ç»„ä»¶é€’å½’æ¸²æŸ“ â€“ æœ‰å­è·¯ç”±ä¸”ä¸ªæ•°å¤§äº1</p><p>å‰ä¸¤ä¸ªä½¿ç”¨äº†v-if ç¬¬ä¸‰ä¸ªä½¿ç”¨äº†é€’å½’ç»„ä»¶</p><p>å®Œæ•´ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;template v-for=&quot;(item, index) in menuList&quot; :key=&quot;item.path&quot;&gt;</span><br><span class="line">    &lt;!--æ²¡æœ‰å­è·¯ç”±--&gt;</span><br><span class="line">    &lt;template v-if=&quot;!item.children&quot;&gt;</span><br><span class="line">      &lt;el-menu-item</span><br><span class="line">        :index=&quot;item.path&quot;</span><br><span class="line">        v-if=&quot;!item.meta.hidden&quot;</span><br><span class="line">        @click=&quot;goRoute&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-icon&gt;</span><br><span class="line">          &lt;component :is=&quot;item.meta.icon&quot;&gt;&lt;/component&gt;</span><br><span class="line">        &lt;/el-icon&gt;</span><br><span class="line">        &lt;template #title&gt;</span><br><span class="line">          &lt;span&gt;&#123;&#123; item.meta.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- æœ‰å­è·¯ç”±ä½†æ˜¯åªæœ‰ä¸€ä¸ªå­è·¯ç”± --&gt;</span><br><span class="line">    &lt;template v-if=&quot;item.children &amp;&amp; item.children.length == 1&quot;&gt;</span><br><span class="line">      &lt;el-menu-item</span><br><span class="line">        :index=&quot;item.children[0].path&quot;</span><br><span class="line">        v-if=&quot;!item.children[0].meta.hidden&quot;</span><br><span class="line">        @click=&quot;goRoute&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-icon&gt;</span><br><span class="line">          &lt;component :is=&quot;item.children[0].meta.icon&quot;&gt;&lt;/component&gt;</span><br><span class="line">        &lt;/el-icon&gt;</span><br><span class="line">        &lt;template #title&gt;</span><br><span class="line">          &lt;span&gt;&#123;&#123; item.children[0].meta.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- æœ‰å­è·¯ç”±ä¸”ä¸ªæ•°å¤§äºä¸€ä¸ª1 --&gt;</span><br><span class="line">    &lt;el-sub-menu</span><br><span class="line">      :index=&quot;item.path&quot;</span><br><span class="line">      v-if=&quot;item.children &amp;&amp; item.children.length &gt; 1&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;template #title&gt;</span><br><span class="line">        &lt;el-icon&gt;</span><br><span class="line">          &lt;component :is=&quot;item.meta.icon&quot;&gt;&lt;/component&gt;</span><br><span class="line">        &lt;/el-icon&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; item.meta.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;Menu :menuList=&quot;item.children&quot;&gt;&lt;/Menu&gt;</span><br><span class="line">    &lt;/el-sub-menu&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; useRouter &#125; from &#x27;vue-router&#x27;</span><br><span class="line">//è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å…¨éƒ¨è·¯ç”±æ•°ç»„</span><br><span class="line">defineProps([&#x27;menuList&#x27;])</span><br><span class="line"></span><br><span class="line">//è·å–è·¯ç”±å™¨å¯¹è±¡</span><br><span class="line">let $router = useRouter()</span><br><span class="line">//ç‚¹å‡»èœå•çš„å›è°ƒ</span><br><span class="line">const goRoute = (vc: any) =&gt; &#123;</span><br><span class="line">  //è·¯ç”±è·³è½¬</span><br><span class="line">  $router.push(vc.index)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Menu&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå†™äº†ç¬¬äºŒä¸ªscript è¿›è¡Œå¾ªç¯åµŒå¥—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Menu&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨é¡µé¢ä¸­è°ƒç”¨è‡ªå·±</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-sub-menu :index=<span class="string">&quot;item.path&quot;</span> v-<span class="keyword">if</span>=<span class="string">&quot;item.children &amp;&amp; item.children.length &gt; 1&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;item.meta.icon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.meta.title &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Menu</span> <span class="attr">:menuList</span>=<span class="string">&quot;item.children&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Menu</span>&gt;</span></span></span><br><span class="line">  &lt;/el-sub-menu&gt;</span><br></pre></td></tr></table></figure><p>å½“è¿›å…¥å‰ä¸¤ä¸ªæ¡ä»¶ä¸æ»¡è¶³æ˜¯ï¼Œä¼šå»åˆ°ç¬¬ä¸‰ä¸ªè¿›è¡Œé€’å½’ ,æ— é™é€’å½’</p>]]></content>
      
      
      <categories>
          
          <category> åå°ç®¡ç†é¡¹ç›® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è·ƒåŠ¨é’æ˜¥</title>
      <link href="/2023/05/30/%E8%B7%83%E5%8A%A8%E9%9D%92%E6%98%A5/"/>
      <url>/2023/05/30/%E8%B7%83%E5%8A%A8%E9%9D%92%E6%98%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="è·ƒåŠ¨é’æ˜¥"><a href="#è·ƒåŠ¨é’æ˜¥" class="headerlink" title="è·ƒåŠ¨é’æ˜¥"></a>è·ƒåŠ¨é’æ˜¥</h2><p>ç®€ä»‹ï¼šå²©ä»“ç¾æ´¥æœªä»ä¹¡ä¸‹çš„å°åˆä¸­ï¼Œä»¥ç¬¬ä¸€åçš„æˆç»©è€ƒå…¥äº†ä¸œäº¬çš„é«˜å‡å­¦ç‡é«˜ä¸­ã€‚è¿™ä½ä¹¡æ‘ç¥ç«¥å¿ƒæ€€å®Œç¾çš„äººç”Ÿè“å›¾ã€ç‹¬è‡ªæ¥åˆ°ä¸œäº¬ã€‚å¥¹æˆç»©ä¼˜å¼‚ï¼Œå´ä¸ä»–äººæœ‰ç€ç‹¬ç‰¹çš„è·ç¦»æ„Ÿï¼Œç¨æ˜¾æ ¼æ ¼ä¸å…¥ã€‚å¥¹è™½ç„¶å¶å°”ä¼šå¤±è´¥ï¼Œä½†è¿˜æ˜¯å‡­å€Ÿå¤©çœŸçš„æ€§æ ¼ä¸€ç‚¹ç‚¹æ‰“åŠ¨ç­ä¸Šçš„åŒå­¦ï¼Œä½¿ä»–ä»¬é‚£å„ä¸ç›¸åŒçš„æ€§æ ¼é€æ¸äº¤å ã€‚ç›¸é‡ã€ç›¸çŸ¥ã€æœ€ç»ˆå¿ƒæ„ç›¸é€šã€‚äººäººéƒ½ä¼šæœ‰å¿ƒçƒ¦å’Œç„¦èºä¹‹æ—¶ã€‚è€Œæ— å¯æ›¿ä»£çš„æœ‹å‹ï¼Œå®šå°†å¸¦æ¥äº’ç›¸ç†è§£çš„å¥‘æœºã€‚è¿™æ˜¯ä¸ªå¶æœ‰æ‚éŸ³å´èƒ½è®©äººä¸çŸ¥ä¸è§‰å¿«ä¹èµ·æ¥çš„æ ¡å›­ç”Ÿæ´»å–œå‰§ï¼</p><p>åœ¨ç©ºé—²æ—¶é—´è§‚çœ‹äº†ä¸‰é›†åå‘ç°è¿™æ˜¯ä¸€éƒ¨ç›¸å½“æ²»æ„ˆçš„ç•ªå‰§ï¼Œå°±æ˜¯ä¸€ç§å¾ˆæ—¥å¸¸å¾ˆæ—¥å¸¸ï¼Œçœ‹ç€å¾ˆèˆ’æœï¼Œ</p><p>åœ¨è¿™ä¸ªç½‘ç»œæŠ½è±¡ï¼Œç²¾ç¥ç—…ç››è¡Œçš„å½“ä¸‹ï¼Œèƒ½æœ‰è¿™ä¹ˆæ²»æ„ˆè¿™ä¹ˆé’æ˜¥çš„åŠ¨ç”»ï¼ŒçœŸçš„éå¸¸éš¾å¾—å•Š</p><p>æ¼«æ”¹ æ—¥å¸¸ æ ¡å›­ æ²»æ„ˆ</p><p>æ¨èæŒ‡æ•°ï¼šâ­â­â­â­â­</p><p><img src="/../img/yuedong.webp" alt="image-20230530024136959"></p>]]></content>
      
      
      <categories>
          
          <category> ç•ªå‰§æ¨è </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é¡¹ç›®éš¾ç‚¹1</title>
      <link href="/2023/05/30/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%AC%94%E8%AE%B0%20--%20%E5%8A%A8%E6%80%81%E8%8F%9C%E5%8D%95%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
      <url>/2023/05/30/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%AC%94%E8%AE%B0%20--%20%E5%8A%A8%E6%80%81%E8%8F%9C%E5%8D%95%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1-åŠ¨æ€èœå•æ¦‚å¿µ"><a href="#1-åŠ¨æ€èœå•æ¦‚å¿µ" class="headerlink" title="1,åŠ¨æ€èœå•æ¦‚å¿µ"></a>1,åŠ¨æ€èœå•æ¦‚å¿µ</h1><p>ğŸ’¡é¡¹ç›®ä¸­èœå•ä¸èƒ½å†™æ­»ï¼Œåº”è¯¥çµæ´»è¿ç”¨ï¼Œæ ¹æ®è·¯ç”±çš„è§„æ ¼è¿›è¡Œæ¸²æŸ“åˆ°é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è·¯ç”±æœ‰å‡ ä¸ªé¡µé¢ä¸Šçš„èœå•ä¹Ÿåº”è¯¥æœ‰å‡ ä¸ª</p><h1 id="2-å®ç°"><a href="#2-å®ç°" class="headerlink" title="2,å®ç°"></a>2,å®ç°</h1><h3 id="1-å°†è·¯ç”±ä¿¡æ¯æ‰“åŒ…ä¸¢å°½piniaä»“åº“"><a href="#1-å°†è·¯ç”±ä¿¡æ¯æ‰“åŒ…ä¸¢å°½piniaä»“åº“" class="headerlink" title="1.å°†è·¯ç”±ä¿¡æ¯æ‰“åŒ…ä¸¢å°½piniaä»“åº“"></a>1.å°†è·¯ç”±ä¿¡æ¯æ‰“åŒ…ä¸¢å°½piniaä»“åº“</h3><p>å¯¹å¤–æš´éœ²é…ç½®è·¯ç”±(å¸¸é‡è·¯ç”±):å…¨éƒ¨ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®åˆ°çš„è·¯ç”±</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> constantRoute = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//ç™»å½•</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>, <span class="comment">//èœå•æ ‡é¢˜</span></span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">true</span>, <span class="comment">//ä»£è¡¨è·¯ç”±æ ‡é¢˜åœ¨èœå•ä¸­æ˜¯å¦éšè—  true:éšè— false:ä¸éšè—</span></span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;Promotion&#x27;</span>, <span class="comment">//èœå•æ–‡å­—å·¦ä¾§çš„å›¾æ ‡,æ”¯æŒelement-pluså…¨éƒ¨å›¾æ ‡</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//ç™»å½•æˆåŠŸä»¥åå±•ç¤ºæ•°æ®çš„è·¯ç”±</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/layout/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;layout&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/home/index.vue&#x27;</span>),</span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;é¦–é¡µ&#x27;</span>,</span><br><span class="line">          <span class="attr">hidden</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;HomeFilled&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//404</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/404&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/404/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;DocumentDelete&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// &#123;</span></span><br><span class="line">  <span class="comment">//   path: &#x27;/screen&#x27;,</span></span><br><span class="line">  <span class="comment">//   component: () =&gt; import(&#x27;@/views/screen/index.vue&#x27;),</span></span><br><span class="line">  <span class="comment">//   name: &#x27;Screen&#x27;,</span></span><br><span class="line">  <span class="comment">//   meta: &#123;</span></span><br><span class="line">  <span class="comment">//     hidden: false,</span></span><br><span class="line">  <span class="comment">//     title: &#x27;æ•°æ®å¤§å±&#x27;,</span></span><br><span class="line">  <span class="comment">//     icon: &#x27;Platform&#x27;,</span></span><br><span class="line">  <span class="comment">//   &#125;,</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å°†å¯¼å‡ºè·¯ç”±çš„ä¿¡æ¯ä¼ é€’åˆ°piniaä»“åº“é‡Œé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; constantRoute &#125; from &#x27;@/router/routes&#x27;</span><br></pre></td></tr></table></figure><p>piniaä»“åº“ï¼šuser.ts æ–‡ä»¶</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥è·¯ç”±(å¸¸é‡è·¯ç”±)</span></span><br><span class="line"><span class="keyword">import</span> &#123; constantRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;@/router/routes&#x27;</span></span><br><span class="line"><span class="keyword">const</span> useUserStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;User&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">state</span>: (): <span class="function"><span class="params">UserState</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">token</span>: <span class="title function_">GET_TOKEN</span>(), <span class="comment">//ç”¨æˆ·å”¯ä¸€æ ‡è¯†token</span></span><br><span class="line">      <span class="attr">menuRoutes</span>: constantRoute, <span class="comment">//å­˜å‚¨ä»“åº“</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">userLogin</span>(<span class="params">data: loginForm</span>) &#123;</span><br><span class="line">      <span class="comment">// ç™»å½•è¯·æ±‚</span></span><br><span class="line">      <span class="keyword">const</span> <span class="attr">result</span>: loginResponseDate = <span class="keyword">await</span> <span class="title function_">reqLogin</span>(data)</span><br><span class="line">      <span class="comment">// ç™»å½•æˆåŠŸpiniaä»“åº“å­˜å‚¨ä¸€ä¸‹token</span></span><br><span class="line">      <span class="keyword">if</span> (result.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="comment">//pinia ä»“åº“å­˜å‚¨ä¸€ä¸‹token</span></span><br><span class="line">        <span class="comment">//ç”±äºpinia vuex å­˜å‚¨æ•°æ®å…¶å®åˆ©ç”¨jså¯¹è±¡ åˆ·æ–°é¡µé¢å›ä¸¢å¤±æ•°æ® éœ€è¦æŒä¹…åŒ–å­˜å‚¨å¯ä»¥ä½¿ç”¨æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">        <span class="comment">//æˆ–è€…å¯ä»¥ä½¿ç”¨pinia vuex æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">token</span> = result.<span class="property">data</span>.<span class="property">token</span> <span class="keyword">as</span> <span class="built_in">string</span></span><br><span class="line">        <span class="comment">//æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–å­˜å‚¨ä¸€ä»½</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;TIKEN&#x27;</span>, result.<span class="property">data</span>.<span class="property">token</span> <span class="keyword">as</span> <span class="built_in">string</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;ok&#x27;</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(result.<span class="property">data</span>.<span class="property">message</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;&#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useUserStore</span><br></pre></td></tr></table></figure><h3 id="2-é€šè¿‡çˆ¶å­ä¼ å‚ä¼ é€’è·¯ç”±ä¿¡æ¯"><a href="#2-é€šè¿‡çˆ¶å­ä¼ å‚ä¼ é€’è·¯ç”±ä¿¡æ¯" class="headerlink" title="2.é€šè¿‡çˆ¶å­ä¼ å‚ä¼ é€’è·¯ç”±ä¿¡æ¯"></a>2.é€šè¿‡çˆ¶å­ä¼ å‚ä¼ é€’è·¯ç”±ä¿¡æ¯</h3><p>çˆ¶ç»„ä»¶å¼•å…¥piniaä»“åº“æ•°æ®</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ç”¨æˆ·ç›¸å…³çš„å°ä»“åº“</span></span><br><span class="line"><span class="keyword">import</span> userUserStore <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/user&#x27;</span></span><br><span class="line"><span class="keyword">let</span> userStore = <span class="title function_">userUserStore</span>()</span><br></pre></td></tr></table></figure><p>æ‹¿åˆ°userStoreåä¼ ç»™å­ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Menu :menuList=&quot;userStore.menuRoutes&quot;&gt;&lt;/Menu&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶æ¥æ”¶</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å…¨éƒ¨è·¯ç”±æ•°ç»„</span></span><br><span class="line"><span class="title function_">defineProps</span>([<span class="string">&#x27;menuList&#x27;</span>])</span><br></pre></td></tr></table></figure><h3 id="3-æ ¹æ®è¯¥è·¯ç”±æ•°ç»„åŠ¨æ€ç”Ÿæˆèœå•ï¼ˆé€’å½’ç»„ä»¶ï¼‰"><a href="#3-æ ¹æ®è¯¥è·¯ç”±æ•°ç»„åŠ¨æ€ç”Ÿæˆèœå•ï¼ˆé€’å½’ç»„ä»¶ï¼‰" class="headerlink" title="3.æ ¹æ®è¯¥è·¯ç”±æ•°ç»„åŠ¨æ€ç”Ÿæˆèœå•ï¼ˆé€’å½’ç»„ä»¶ï¼‰"></a>3.æ ¹æ®è¯¥è·¯ç”±æ•°ç»„åŠ¨æ€ç”Ÿæˆèœå•ï¼ˆé€’å½’ç»„ä»¶ï¼‰</h3><p>åœ¨æœ€å¤–å±‚è¿›è¡Œéå†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-for=&quot;(item, index) in menuList&quot; :key=&quot;item.path&quot;&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶æ¥æ”¶åéå†åˆ°é¡µé¢ä¸­ï¼Œç”±äºè·¯ç”±æœ‰äº›æœ‰å­è·¯ç”±å…ƒç´ ï¼Œæœ‰äº›æ²¡æœ‰ï¼Œæ‰€ä»¥éå†æ—¶è¿›è¡Œäº†ä¸‰ä¸ªåˆ¤æ–­</p><p>ç¬¬ä¸€ä¸ª : <strong>æ²¡æœ‰å­è·¯ç”±</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æ²¡æœ‰å­è·¯ç”± --&gt;</span><br><span class="line">    &lt;el-menu-item v-if=&quot;!item.children&quot;&gt;</span><br><span class="line">      &lt;template #title&gt;</span><br><span class="line">        &lt;span&gt;1&amp;nbsp;&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">          &#123;&#123; item.meta.title &#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-menu-item&gt;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªï¼š<strong>æœ‰å­è·¯ç”±ä½†æ˜¯åªæœ‰ä¸€ä¸ªå­è·¯ç”±</strong></p><p><strong>:index&#x3D;â€item.children[0].pathâ€</strong> æ­¤å¤„ä¸ºç¡®å®šå”¯ä¸€æ ‡è¯†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æœ‰å­è·¯ç”±ä½†æ˜¯åªæœ‰ä¸€ä¸ªå­è·¯ç”± --&gt;</span><br><span class="line">     &lt;el-menu-item :index=&quot;item.children[0].path&quot; v-if=&quot;item.children &amp;&amp; item.children.length == 1&quot;&gt;</span><br><span class="line">       &lt;template #title&gt;</span><br><span class="line">         &lt;span&gt;&#123;&#123; item.children[0].title &#125;&#125;&lt;/span&gt;</span><br><span class="line">       &lt;/template&gt;</span><br><span class="line">     &lt;/el-menu-item&gt;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ä¸ªï¼š<strong>æœ‰å­è·¯ç”±ä¸”ä¸ªæ•°å¤§äºä¸€</strong> </p><p><strong>é€’å½’ç»„ä»¶</strong>:ç¨‹åºè°ƒç”¨è‡ªèº«ç§°ä¸ºé€’å½’</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> &lt;el-sub-menu :index=&quot;item.path&quot;  v-if=&quot;item.children &amp;&amp; item.children.length &gt; 1&quot;&gt;</span><br><span class="line">        &lt;template #title&gt;</span><br><span class="line">          &lt;span&gt;</span><br><span class="line">            &#123;&#123; item.meta.title &#125;&#125;</span><br><span class="line">          &lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;Menu :menuList=&quot;item.children&quot;&gt;&lt;/Menu&gt;</span><br><span class="line">&lt;/el-sub-menu&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">//è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å…¨éƒ¨è·¯ç”±æ•°ç»„</span><br><span class="line">defineProps([&#x27;menuList&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Menu&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="4-ç§»é™¤ä¸éœ€è¦éå†åˆ°é¡µé¢çš„è·¯ç”±ï¼ˆæœ‰äº›è·¯ç”±ä¸éœ€è¦éå†åˆ°é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•ç»„ä»¶ï¼Œ404ç»„ä»¶ï¼‰"><a href="#4-ç§»é™¤ä¸éœ€è¦éå†åˆ°é¡µé¢çš„è·¯ç”±ï¼ˆæœ‰äº›è·¯ç”±ä¸éœ€è¦éå†åˆ°é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•ç»„ä»¶ï¼Œ404ç»„ä»¶ï¼‰" class="headerlink" title="4,ç§»é™¤ä¸éœ€è¦éå†åˆ°é¡µé¢çš„è·¯ç”±ï¼ˆæœ‰äº›è·¯ç”±ä¸éœ€è¦éå†åˆ°é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•ç»„ä»¶ï¼Œ404ç»„ä»¶ï¼‰"></a>4,ç§»é™¤ä¸éœ€è¦éå†åˆ°é¡µé¢çš„è·¯ç”±ï¼ˆæœ‰äº›è·¯ç”±ä¸éœ€è¦éå†åˆ°é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•ç»„ä»¶ï¼Œ404ç»„ä»¶ï¼‰</h3><p>å¯ä»¥åœ¨è·¯ç”±å…ƒä¿¡æ¯é‡Œæ·»åŠ æ˜¯å¦éœ€è¦éšè—çš„å‚æ•°  hidden: true</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">//ç™»å½•</span></span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>),</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">  <span class="attr">meta</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>, <span class="comment">//èœå•æ ‡é¢˜</span></span><br><span class="line">    <span class="attr">hidden</span>: <span class="literal">true</span>, <span class="comment">//ä»£è¡¨è·¯ç”±æ ‡é¢˜åœ¨èœå•ä¸­æ˜¯å¦éšè—  true:éšè— false:ä¸éšè—</span></span><br><span class="line">    <span class="attr">icon</span>: <span class="string">&#x27;Promotion&#x27;</span>, <span class="comment">//èœå•æ–‡å­—å·¦ä¾§çš„å›¾æ ‡,æ”¯æŒelement-pluså…¨éƒ¨å›¾æ ‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ¥ç€åœ¨é¡µé¢è¿›è¡Œåˆ¤æ–­(åœ¨åˆ¤æ–­æ¡ä»¶å¤–å†æ·»åŠ ä¸€å±‚template åŒé‡ifåˆ¤æ–­)  ä»¥æ­¤ç±»æ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-if=&quot;!item.children&quot;&gt;</span><br><span class="line">      &lt;!-- å¦‚æœhiddenä¸ºfalseåˆ™ä¸æ˜¾ç¤ºè¯¥ç»„ä»¶ --&gt;</span><br><span class="line">      &lt;el-menu-item v-if=&quot;!item.meta.hidden&quot;&gt;</span><br><span class="line">        &lt;template #title&gt;</span><br><span class="line">          &lt;span&gt;1&amp;nbsp;&lt;/span&gt;</span><br><span class="line">          &lt;span&gt;</span><br><span class="line">            &#123;&#123; item.meta.title &#125;&#125;</span><br><span class="line">          &lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/template&gt;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ä¸ªæ— éœ€è¿‡æ»¤,é€’å½’çš„æ—¶å€™ä¼šè¿›è¡Œè¿‡æ»¤</p>]]></content>
      
      
      <categories>
          
          <category> åå°ç®¡ç†é¡¹ç›® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>webç«èµ›çš„ä¸€äº›ç»éªŒï¼ˆå‰ç«¯ï¼‰</title>
      <link href="/2023/05/30/%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A/"/>
      <url>/2023/05/30/%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A/</url>
      
        <content type="html"><![CDATA[<h3 id="èµ›å‰å‡†å¤‡ğŸ‘Œ"><a href="#èµ›å‰å‡†å¤‡ğŸ‘Œ" class="headerlink" title="èµ›å‰å‡†å¤‡ğŸ‘Œ"></a>èµ›å‰å‡†å¤‡ğŸ‘Œ</h3><ul><li><p><strong>éœ€è¦å…·å¤‡çš„åŸºæœ¬æŠ€æœ¯</strong></p><p><strong>vue</strong>ï¼š æ¯”èµ›æ‹¿åˆ°çš„é¡¹ç›®é‡Œç§»åŠ¨ç«¯é¡¹ç›®ä¸ºvue2æŠ€æœ¯ï¼Œè€Œpcç«¯é¡¹ç›®ä¸ºvue3é¡¹ç›®ï¼Œå­¦ä¼švue2åvue3åŸºæœ¬å¯ä»¥åœ¨ä¸€ä¸ªæœˆä¹‹å†…ç®€å•ä¸Šæ‰‹</p><p><strong>vuex</strong> ï¼šçŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæ¯”èµ›é¡¹ç›®æ˜¯æœ‰ç”¨åˆ°çš„ï¼Œä½†æ˜¯å æ¯”å¾ˆå°‘ï¼Œå¦‚è‹¥å­¦ä¹ æ—¶é—´ä¸å¤Ÿï¼Œé‚£èƒ½çœ‹æ‡‚å°±è¡Œäº†ã€‚æ¯”èµ›æ—¶é—´å¤ªå°‘äº†è¿˜æ²¡ç”¨åˆ°å°±ç»“æŸäº†</p><p><strong>axios</strong>ï¼šğŸ’¡è¦æ±‚æŒæ¡,ç½‘ç»œå°è£…è¯·æ±‚åº“ï¼Œæ¯”èµ›é¡¹ç›®ç™¾åˆ†ç™¾ä¼šä½¿ç”¨åˆ°ã€‚</p><p><strong>vant element-ui</strong>ï¼šè¿™ä¸¤ä¸ªæ˜¯ç»„ä»¶åº“æ¥è‡ªç”¨äºæ­å»ºé¡µé¢ï¼ŒåŸºæœ¬ä¼šä¸€ä¸ªå¦å¤–ä¸€ä¸ªä¹Ÿä¼šä½¿ç”¨äº†ï¼Œæ¯”èµ›ä¼šéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œé€‰æ‰‹åœ¨æ¡Œé¢ç‚¹å‡»ä»–çš„ä¸€ä¸ªå‘½ä»¤çª—å£åå¼¹å‡ºcmdçª—å£ã€‚ç­‰å®ƒæ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥æ–‡æ¡£ä¸­çš„åœ°å€å³å¯è®¿é—®</p></li><li><p><strong>æ‰‹å†™å•†åŸé¡¹ç›®</strong></p><p>å³ä¾¿æœ‰è¯•é¢˜ï¼Œéœ€è¦çŸ­æ—¶é—´å­¦ä¼šå¾ˆéš¾ï¼Œæ‰€ä»¥å»ºè®®æ˜¯çœ‹è§†é¢‘å†™ä¸€ä¸ªvueçš„å•†åŸ æ³¨æ„ä½¿ç”¨åˆ°çš„æŠ€æœ¯éœ€è¦ä¸è¯•é¢˜çš„ä¸€æ ·ã€‚</p><p>vue2ä¸vuexè¿™ä¸¤ç§åŸºæœ¬å·²ç»åœæ­¢æ›´æ–°äº†ï¼Œä¸çŸ¥é“æ¯”èµ›æ–¹è¿˜ä¼šä¸ä¼šä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥å†™çš„é¡¹ç›®ç”¨çš„æŠ€æœ¯å°½é‡ä¸è¯•é¢˜è¦æ±‚çš„æŠ€æœ¯ä¸€æ ·ã€‚</p></li><li><p><strong>é˜…è¯»èƒ½åŠ›</strong></p><p>æ‹¿åˆ°é¡¹ç›®åé‡Œé¢ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„ç›®å½•ï¼Œæ‰€ä»¥è¦æ±‚æœ‰ä¸€å®šçš„é˜…è¯»èƒ½åŠ›ã€‚</p><p>éœ€è¦ä½ åˆ°ç”¨æˆ·é¡µé¢æ“ä½œç­”é¢˜ã€‚å»ºè®®ç¬¬ä¸€æ—¶é—´å»routerï¼ˆè·¯ç”±æ–‡ä»¶å¤¹ï¼‰æŸ¥çœ‹,é‡Œé¢ä¼šæœ‰å„ä¸ªé¡µé¢çš„æ³¨é‡Šã€‚</p><img src="https://files.catbox.moe/pmx8gw.png" alt="æˆªå›¾" style="zoom:50%;" /></li></ul><blockquote><p>å»ºè®®ï¼Œå­¦å®Œvueåå¯ä»¥å»æ‰¾ä¸€ä¸‹å•†åŸé¡¹ç›®è¿›è¡Œé˜…è¯»ç†Ÿæ‚‰ï¼Œçœ‹å¤šäº†å°±å¯¹å“ªä¸ªç›®å½•æœ‰ä»€ä¹ˆæ–‡ä»¶ä¸€ç›®äº†ç„¶äº†</p></blockquote><h3 id="è¿›å…¥è€ƒåœº"><a href="#è¿›å…¥è€ƒåœº" class="headerlink" title="è¿›å…¥è€ƒåœº"></a><strong>è¿›å…¥è€ƒåœº</strong></h3><ul><li><p><strong>è€ƒåœºå‡†å¤‡</strong></p><p><code>ä¼šæœ‰æ—¶é—´ç»™ä½ æ£€æŸ¥è®¾å¤‡çš„ï¼Œé‚£å¤©æ¯”èµ›åˆ«çš„ç»„å‡ºç°è¿‡é”®ç›˜æ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œå¦å¤–é‚£è¾¹å±å¹•å¤ªå·®äº†ï¼Œçœ‹çš„çœ¼ç›ç—›</code></p><p><code>æ‹¿åˆ°æ–‡ä»¶è¢‹ï¼Œæ–‡ä»¶è¢‹é‡Œé¢æœ‰ä¸ªè¡¨ï¼Œè¡¨é‡Œé¢çš„å†…å®¹å°±æ˜¯å¡«å†™æ£€æŸ¥çš„è®¾å¤‡æ˜¯å¦å®Œå¥½ä¹‹ç±»çš„ï¼Œè¿˜æœ‰uç›˜ï¼Œç¬”ï¼Œè‰ç¨¿çº¸ã€‚</code></p><p><code>ä¼šæœ‰äººä¼šè¯´uç›˜çš„è§£å‹å¯†ç ï¼Œé€‰æ‰‹æŠŠè§£å‹å¯†ç å†™åˆ°è‰ç¨¿çº¸å³å¯ã€‚</code></p><p><code>uç›˜ä¼ è¾“æ¯ç§’åªæœ‰100kbå·¦å³æ‰€ä»¥æ¯”èµ›å¿«ç»“æŸçš„æ—¶å€™é¢„ç•™å……åˆ†çš„æ—¶é—´ï¼Œæ•´ä¸ªå•†åŸé¡¹ç›®æ˜¯éå¸¸å¤§çš„ï¼Œåšå®Œçš„æ—¶å€™æ‰“åŒ…ä¸€ä¸ªæ”¹é¡¹ç›®åæäº¤</code></p><p><code>å¼€å§‹æŠ½è¯•å·ï¼Œä¸€å…±æœ‰ä¸‰é“ï¼Œæˆ‘ä»¬é‚£å¤©æ¯”èµ›æŠ½åˆ°çš„æ˜¯aå·ã€‚</code></p><p>ğŸ’¡uç›˜ç›®å½•æœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.ä»£ç æäº¤åŒº ç”¨äºæŠŠæ‰“åŒ…åçš„ä»£ç æäº¤åˆ°ä¸Šé¢</span><br><span class="line"></span><br><span class="line">2,ç«èµ›å†…å®¹åŒº åŸå‹è®¾è®¡ä¹¦ï¼Œä¸‰ä¸ªå‹ç¼©åŒ…ï¼Œä¸€ä¸ªç§»åŠ¨ç«¯ï¼Œä¸€ä¸ªpcï¼Œä¸€ä¸ªåç«¯ï¼Œå¦å¤–å…¶ä»–çš„ä¸é‡è¦ä¹Ÿå°±æ²¡ç»†ç»†çœ‹äº†</span><br></pre></td></tr></table></figure><blockquote><p>  ğŸ’¡æ³¨æ„ï¼Œæ£€æŸ¥è½¯ä»¶çš„æ—¶å€™å»ºè®®å°±æŠŠåç«¯é¡¹ç›®è·‘èµ·æ¥ï¼Œç¬¬ä¸€æ—¶é—´æŠŠåç«¯é¡¹ç›®è·‘èµ·æ¥ï¼Œé¿å…å‡ºç°å‰ç«¯è·‘èµ·æ¥è€Œæ‹¿ä¸åˆ°æ•°æ®çš„æƒ…å†µ</p></blockquote><ul><li><p><strong>vue2ä¸vue3</strong></p><p>å¦‚æœä½ ä¸æ˜¯å¾ˆç†Ÿæ‚‰vue3,ä¸è¦æ…Œï¼Œå®ƒæ•´ä¸ªå•†åŸé¡¹ç›®æ˜¯å†™å¥½çš„äº†ï¼Œä½ ä¸çŸ¥é“å…·ä½“æ ¼å¼æ˜¯ä»€ä¹ˆï¼Œå°±å»åˆ«çš„vueæ–‡ä»¶çœ‹çœ‹ã€‚å°±æ¯”å¦‚æˆ‘ä¸çŸ¥é“è·å–æ¥å£ï¼Œç„¶åæˆ‘è·‘åˆ°å…¶ä»–é¡µé¢ï¼Œçœ‹åˆ°ä»–ä»¬æ˜¯æ€ä¹ˆæ“ä½œæ¥å£çš„ï¼Œæˆ‘ä¹Ÿå°±ç…§çŒ«ç”»è™æ•´äº†ä¸€ä¸ª</p></li><li><p><strong>æ’é”™è¯¦è§£</strong></p><p>ä¸‰é“é¢˜ã€‚è¾ƒä¸ºç®€å•ï¼Œå¯æƒœæˆ‘æ—¶é—´èŠ±è´¹æ¯”é¢„è®¡çš„é•¿äº†ä¸€ç‚¹ï¼Œæ’é”™èƒ½åŠ›æ²¡é—®é¢˜ï¼Œä½†æ˜¯é˜…è¯»èƒ½åŠ›å¤ªå·®äº†æˆ‘ã€‚</p><p>å°è±¡ä¸æ·±åˆ»å°±è®²è¿°ä¸€äº›è®°ä½çš„åœ°æ–¹ ï¼Œå¯ä»¥ç†è§£ä¸ºæ¯é“é¢˜5åˆ†ï¼Œæ¯é“é¢˜æœ‰äº”ä¸ªç©º</p><p>&#x3D;&#x3D;ç¬¬ä¸€ä¸ªæ˜¯&#x3D;&#x3D; è¦ä½ æŠŠå•†å“å›ºå®šæˆä¸€è¡Œä¸¤åˆ—ï¼Œç„¶åç‚¹å‡»å…¨é€‰æŒ‰é’®å…¶ä»–äº§å“ä¼šå…¨é€‰åˆ°ã€‚</p><p>å…¨é€‰æŒ‰é’®æ–¹æ³•å·²ç»è‡ªå¸¦äº†ï¼Œæ‰€ä»¥åªè¦åœ¨å…¨é€‰æŒ‰é’®é‚£é‡Œç»‘å®šç‚¹å‡»äº‹ä»¶å³å¯ @click</p><p>å›ºå®šæˆä¸€è¡Œä¸¤åˆ—æˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯flexå¸ƒå±€ï¼Œåé¢åˆç”¨äº†ç½‘æ ¼å¸ƒå±€ï¼Œç„¶åè¿˜æ˜¯æ— æ³•å®ç°ã€‚æœ€åèŠ±äº†å‡ åˆ†é’Ÿåœ¨vantæ–‡æ¡£æ‰¾åˆ°äº†è§£å†³æ–¹æ³•</p><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é»˜è®¤ä¸€è¡Œå±•ç¤ºå››ä¸ªæ ¼å­ï¼Œå¯ä»¥é€šè¿‡ column-num è‡ªå®šä¹‰åˆ—æ•°ã€‚</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">van-grid</span> <span class="attr">:column-num</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">v-for</span>=<span class="string">&quot;value in 6&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;value&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;photo-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;æ–‡å­—&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">van-grid</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦åœ¨åŠ å…¥ï¼šcolumn-numæ¥æ§åˆ¶åˆ—æ•°ï¼Œæ‰€ä»¥æ•´ä¸ªè¯•å·æ²¡æœ‰è€ƒåˆ°cssï¼Œè¿™ç‚¹æ˜¯æˆ‘å¤§æ„äº†ï¼Œç»ˆç©¶æ˜¯æˆ‘å¯¹vantä¸å¤Ÿç†Ÿæ‚‰æ‰äº§ç”Ÿçš„éš¾ç‚¹</p><p>ç¬¬äºŒä¸ªæ˜¯ è®¢å•çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½</p><p><img src="/./731cc3299f6494a79365b2d1fddede91.png" alt="æˆªå›¾"></p><p><code>  å¦‚å›¾æ‰€ç¤ºï¼Œä¸Šè¿°ä»£ç ä¸­è´­ç‰©è½¦é‡Œçš„å‡ ä¸ªçº¢å…¨æ˜¯é™æ€çš„æ²¡æœ‰æ•°æ®ï¼Œè€Œç‚¹å‡»äº†ä¹Ÿæ²¡æœ‰äº¤äº’</code><br><code>  è€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠè´­ç‰©è½¦é‡Œçš„é¡µé¢çš„é™æ€æ•°æ®æ›¿æ¢æˆåŠ¨æ€çš„ï¼Œç›¸å½“ç®€å•ï¼Œç®—æ˜¯é€åˆ†é¢˜ç›®ã€‚</code><br><code>  æ•°æ®å·²ç»æœ‰äº†ï¼Œæ–¹æ³•ä¹Ÿå·²ç»æœ‰äº†ï¼Œæ‰€ä»¥åªéœ€è¦æ‹¿ä»–ä»¬æä¾›çš„æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼Œæ–¹æ³•ç»‘å®šåˆ°æŒ‰é’®ä¸Šå³å¯</code></p><p>ç¬¬ä¸‰ä¸ªæ˜¯åœ°å€åˆ—è¡¨åŠŸèƒ½</p><p>è¦æ±‚é»˜è®¤å¿…é¡»åªèƒ½ä¸€ä¸ªï¼Œ</p><p>ç‚¹å‡»ç¼–è¾‘è·³è½¬åˆ°è”ç³»äººé¡µï¼Œå§“åï¼Œç”µè¯ï¼Œåœ°åŒºï¼Œè¯¦ç»†åœ°å€ï¼Œéœ€è¦æ£€éªŒï¼Œé‚®æ”¿ç¼–ç  è®¾ä¸ºé»˜è®¤æ”¶è·åœ°å€æ— éœ€æ ¡éªŒï¼Œé€åˆ†é¢˜</p><p><img src="/./e8b615e2de7bda574abbaa5d28086b91.png" alt="æˆªå›¾"></p><p><img src="/./c0dcbbe5251da4692155839c1bb467cc.png" alt="æˆªå›¾"></p><br/><p>ä¸‰ä¸ªæ’é”™é¢˜ç›®è¾ƒä¸ºç®€å•èƒ½æ‹¿8åˆ†ä»¥ä¸Šç®—ä¼˜ç§€ï¼Œä»£ç æ³¨é‡Šå¤ªå°‘ï¼Œè¿˜æ˜¯éœ€è¦è€ƒéªŒé˜…è¯»èƒ½åŠ›</p></li><li><p><strong>ç¨‹åºç¼–ç </strong>  &#x3D;&#x3D;æ³¨æ„æ¯”èµ›çš„æ—¶å€™é¢˜ç›®ä¸å¯èƒ½å’Œæˆ‘å†™çš„ä¸€æ¨¡ä¸€æ ·ã€‚&#x3D;&#x3D;</p><blockquote><p>ç”±äºæˆ‘è´Ÿè´£çš„æ˜¯ç§»åŠ¨ç«¯é¡¹ç›®ï¼Œæ—¶é—´æ²¡æœ‰åˆ†é…å¥½ï¼Œæ‰€ä»¥å¯¼è‡´å¼€å‘çš„æ—¶å€™åªæœ‰ä¸¤ä¸ªå°æ—¶å·¦å³ä¸åˆ°çš„æ—¶é—´ç¨‹åºç¼–ç ã€‚å¾ˆé—æ†¾å°±åšäº†ä¸¤ä¸ªè¿˜æ˜¯åŠæˆå“</p></blockquote><p>é¢˜ç›®ä¸€</p><p>ä¼šæä¾›æ¥å£ç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æ¥å£è¿›è¡Œæ“ä½œã€‚</p><p>æˆ‘ä¸€å¼€å§‹å°±æ˜¯axiosè·å–æ•°æ®ï¼Œç‚¹å‡»å•†å“è¯¦ç»†çš„æ—¶å€™ä¼šé™„å¸¦å¯¹äºçš„idï¼Œ</p><p><img src="/./1ef868b12c948487c60f2467eaa15460.png" alt="æˆªå›¾"></p><p>æ¥ç€æˆ‘ä»¬æ‹¿åˆ°idååˆ°å»è¯·æ±‚å¯¹åº”çš„æ•°æ®ï¼Œæ‹¿åˆ°æ•°æ®åè¿›è¡Œæ¸²æŸ“æ“ä½œï¼Œè¿™ä¸ªå¯ä»¥ç”¨vanté€Ÿæ­ã€‚</p><img src="./46106823cd57763a892247d9facb7908.png" alt="æˆªå›¾" style="zoom:50%;" /><p>ç‚¹å‡»åŠ å…¥è´­ç‰©è½¦åä¼šå¼¹å‡ºä¸€ä¸ªæ¡†ä¹Ÿæ˜¯éœ€è¦æ­å»ºä¸€ä¸‹</p><img src="./37c402e7dfb0e728a5ed254092fb8948.png" alt="æˆªå›¾" style="zoom:50%;" /><p>ç‚¹å‡»è¿›å…¥å•†å“è¯¦ç»†ï¼ŒåŠ å…¥è´­ç‰©è½¦ï¼Œæ²¡æœ‰ä¸€ç‚¹ä»£ç ï¼Œå…¨æ˜¯è¦é è‡ªå·±å»ä½¿ç”¨ç»„ä»¶åº“vantæ­å»º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™ä¸ªå°±ä»…ä»…å äº†ä¸€é¢˜ï¼Œä¸€å…±åé¢˜ï¼Œæ‰€ä»¥æ­£å¸¸æ¯”èµ›ä¸­ï¼Œä¸¤ä¸ªäººèƒ½åšå®Œ5é¢˜å°±å·²ç»å¾ˆä¸€ç­‰å¥–æ‰“æ‹›å‘¼äº†</span><br></pre></td></tr></table></figure><p>æœ€åæ­å»ºæˆ‘è´­ç‰©è½¦ï¼Œå‡†å¤‡åšæ•°æ®äº¤äº’çš„æ—¶å€™ï¼Œå‘ç°æ—¶é—´ä¸å¤Ÿäº†ï¼Œäºæ˜¯æˆ‘å’ŒåŒä¼´è¯´ï¼Œä¸è¦åšæ•°æ®äº¤äº’äº†ï¼ŒæŠŠé¡µé¢æ­å»ºèµ·æ¥æ¯”è¾ƒå®¹æ˜“æ‹¿åˆ†ï¼Œ</p><p>æ‰€ä»¥æˆ‘å¼€å§‹åšäº†ç¬¬äºŒä¸ª</p><p><strong>ç¬¬äºŒé¢˜</strong> </p><p><code>ç¬¬äºŒé¢˜å’Œç¬¬ä¸€é¢˜æœ‰è”ç³»çš„ï¼Œ</code></p><p><code>ç¬¬ä¸€é¢˜çš„è¯¦æƒ…é¡µæ­å»ºå¥½äº†åï¼Œåœ¨è¯¦æƒ…é¡µç‚¹å‡»åŠ å…¥è´­ç‰©è½¦è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢</code></p><p><code>ç¬¬äºŒé¢˜è¦çš„å°±æ˜¯ä½ æ­å»ºè´­ç‰©è½¦é¡µé¢ï¼Œå¹¶ä¸”è´­ç‰©è½¦è¦èƒ½å¤Ÿå¢åˆ æ“ä½œï¼Œå¹¶ä¸”ç‚¹å‡»ä¸‹å•åä¼šè·³è½¬åˆ°è®¢å•æ”¯ä»˜é¡µé¢ï¼Œä¹Ÿæ˜¯éœ€è¦æ­å»ºçš„ï¼Œ</code></p><p>è´­ç‰©è½¦çš„äº§å“å¤§æ¦‚æ˜¯è¿™æ · å‘å³æ»‘åŠ¨å¯åˆ é™¤</p><img src="./5bb924d8e4296271033f4a1cad638150.png" alt="æˆªå›¾" style="zoom:50%;" /><p>åº•éƒ¨é•¿è¿™æ · ï¼ˆé»„è‰²é‚£æ®µå­—ï¼ŒåŸæœ¬æ˜¯å‘å³æ»‘åŠ¨å¯åˆ é™¤å•†å“ï¼‰</p><img src="./5759fe28ccde25d007ae82469fc8341e.png" alt="æˆªå›¾" style="zoom:50%;" /><p>è®¢å•æ”¯ä»˜é¡µé¢å¤§æ¦‚é•¿è¿™æ ·</p><img src="./64a5eaa751fbc403be87b96f0235773b.png" alt="æˆªå›¾" style="zoom:50%;" /></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¹³å°éƒ¨ç½²</title>
      <link href="/2023/05/23/%E8%81%9A%E5%90%88%E6%90%9C%E7%B4%A2%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
      <url>/2023/05/23/%E8%81%9A%E5%90%88%E6%90%9C%E7%B4%A2%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®éƒ¨ç½²ï¼ˆdockeréƒ¨ç½²ï¼‰"><a href="#é¡¹ç›®éƒ¨ç½²ï¼ˆdockeréƒ¨ç½²ï¼‰" class="headerlink" title="é¡¹ç›®éƒ¨ç½²ï¼ˆdockeréƒ¨ç½²ï¼‰"></a>é¡¹ç›®éƒ¨ç½²ï¼ˆdockeréƒ¨ç½²ï¼‰</h2><h3 id="elasticsearchéƒ¨ç½²"><a href="#elasticsearchéƒ¨ç½²" class="headerlink" title="elasticsearchéƒ¨ç½²"></a>elasticsearchéƒ¨ç½²</h3><ol><li>å› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦éƒ¨ç½²kibanaå®¹å™¨ï¼Œå› æ­¤éœ€è¦è®©elasticsearchå’Œkibanaå®¹å™¨äº’è”ã€‚è¿™é‡Œå…ˆåˆ›å»ºä¸€ä¸ªç½‘ç»œï¼š</li></ol><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create es-net</span><br></pre></td></tr></table></figure><ol start="2"><li>åŠ è½½é•œåƒï¼Œæˆ‘ç”¨çš„elasticsearchçš„7.12.1ç‰ˆæœ¬çš„é•œåƒï¼Œé•œåƒæ”¾åˆ°ç½‘ç›˜é‡Œäº†ã€‚</li></ol><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1WULYE5JqDFbulyFypstY8A">https://pan.baidu.com/s/1WULYE5JqDFbulyFypstY8A</a><br>æå–ç ï¼šldqj </p></blockquote><p>å¤§å®¶å°†es.tarå…¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åè¿è¡Œå‘½ä»¤åŠ è½½å³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯¼å…¥æ•°æ®</span></span><br><span class="line">docker load -i es.tar</span><br></pre></td></tr></table></figure><p>3.è¿è¡Œdockerå‘½ä»¤,å¯åŠ¨å®¹å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">--name es \</span><br><span class="line">    -e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot; \</span><br><span class="line">    -e &quot;discovery.type=single-node&quot; \</span><br><span class="line">    -v es-data:/usr/share/elasticsearch/data \</span><br><span class="line">    -v es-plugins:/usr/share/elasticsearch/plugins \</span><br><span class="line">    --privileged \</span><br><span class="line">    --network es-net \</span><br><span class="line">    -p 9200:9200 \</span><br><span class="line">    -p 9300:9300 \</span><br><span class="line">elasticsearch:7.12.1</span><br></pre></td></tr></table></figure><p>å‘½ä»¤è§£é‡Šï¼š</p><ul><li><code>-e &quot;cluster.name=es-docker-cluster&quot;</code>ï¼šè®¾ç½®é›†ç¾¤åç§°</li><li><code>-e &quot;http.host=0.0.0.0&quot;</code>ï¼šç›‘å¬çš„åœ°å€ï¼Œå¯ä»¥å¤–ç½‘è®¿é—®</li><li><code>-e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</code>ï¼šå†…å­˜å¤§å°</li><li><code>-e &quot;discovery.type=single-node&quot;</code>ï¼šéé›†ç¾¤æ¨¡å¼</li><li><code>-v es-data:/usr/share/elasticsearch/data</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®šesçš„æ•°æ®ç›®å½•</li><li><code>-v es-logs:/usr/share/elasticsearch/logs</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®šesçš„æ—¥å¿—ç›®å½•</li><li><code>-v es-plugins:/usr/share/elasticsearch/plugins</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®šesçš„æ’ä»¶ç›®å½•</li><li><code>--privileged</code>ï¼šæˆäºˆé€»è¾‘å·è®¿é—®æƒ</li><li><code>--network es-net</code> ï¼šåŠ å…¥ä¸€ä¸ªåä¸ºes-netçš„ç½‘ç»œä¸­</li><li><code>-p 9200:9200</code>ï¼šç«¯å£æ˜ å°„é…ç½®</li></ul><h3 id="kibanaéƒ¨ç½²"><a href="#kibanaéƒ¨ç½²" class="headerlink" title="kibanaéƒ¨ç½²"></a>kibanaéƒ¨ç½²</h3><p>å’Œelasticsearchéƒ¨ç½²æ­¥éª¤ä¸€æ ·ã€‚</p><ol><li>å…ˆåŠ è½½é•œåƒï¼Œ**(é•œåƒæˆ‘æ”¾åˆ°äº†ç½‘ç›˜é‡Œï¼Œé“¾æ¥åœ¨ä¸Šæ–¹)**</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i es.tar</span><br></pre></td></tr></table></figure><ol start="2"><li>è¿è¡Œdockerå‘½ä»¤ï¼Œéƒ¨ç½²kibana</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">--name kibana \</span><br><span class="line">-e ELASTICSEARCH_HOSTS=http://es:9200 \</span><br><span class="line">--network=es-net \</span><br><span class="line">-p 5601:5601  \</span><br><span class="line">kibana:7.12.1</span><br></pre></td></tr></table></figure><ul><li><code>--network es-net</code> ï¼šåŠ å…¥ä¸€ä¸ªåä¸ºes-netçš„ç½‘ç»œä¸­ï¼Œä¸elasticsearchåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­</li><li><code>-e ELASTICSEARCH_HOSTS=http://es:9200&quot;</code>ï¼šè®¾ç½®elasticsearchçš„åœ°å€ï¼Œå› ä¸ºkibanaå·²ç»ä¸elasticsearchåœ¨ä¸€ä¸ªç½‘ç»œï¼Œå› æ­¤å¯ä»¥ç”¨å®¹å™¨åç›´æ¥è®¿é—®elasticsearch</li><li><code>-p 5601:5601</code>ï¼šç«¯å£æ˜ å°„é…ç½®</li></ul><h3 id="å®‰è£…ikåˆ†è¯å™¨"><a href="#å®‰è£…ikåˆ†è¯å™¨" class="headerlink" title="å®‰è£…ikåˆ†è¯å™¨"></a>å®‰è£…ikåˆ†è¯å™¨</h3><ol><li>å®‰è£…æ’ä»¶éœ€è¦çŸ¥é“elasticsearchçš„pluginsç›®å½•ä½ç½®ï¼Œè€Œæˆ‘ä»¬ç”¨äº†æ•°æ®å·æŒ‚è½½ï¼Œå› æ­¤éœ€è¦æŸ¥çœ‹elasticsearchçš„æ•°æ®å·ç›®å½•ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤æŸ¥çœ‹:</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect es-plugins</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;CreatedAt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022-05-06T10:06:34+08:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Driver&quot;</span><span class="punctuation">:</span> <span class="string">&quot;local&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Labels&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Mountpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/var/lib/docker/volumes/es-plugins/_data&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;es-plugins&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Options&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;local&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜pluginsç›®å½•è¢«æŒ‚è½½åˆ°äº†ï¼š<code>/var/lib/docker/volumes/es-plugins/_data </code>è¿™ä¸ªç›®å½•ä¸­ã€‚</p><ol start="2"><li><p>åœ¨æœ¬åœ°è§£å‹ikåˆ†è¯å™¨å‹ç¼©åŒ…ï¼Œé‡å‘½åä¸ºikï¼ˆ<strong>å‹ç¼©åŒ…æ”¾åˆ°äº†ç½‘ç›˜ï¼Œé“¾æ¥åœ¨ä¸Šæ–¹</strong>ï¼‰</p></li><li><p>ä¸Šä¼ åˆ°eså®¹å™¨çš„æ’ä»¶æ•°æ®å·ä¸­ï¼Œä¹Ÿå°±æ˜¯<code>/var/lib/docker/volumes/es-plugins/_data </code></p></li><li><p>é‡å¯å®¹å™¨</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4ã€é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart es</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹esæ—¥å¿—</span></span><br><span class="line">docker logs -f es</span><br></pre></td></tr></table></figure><h3 id="å‰ç«¯é¡¹ç›®éƒ¨ç½²"><a href="#å‰ç«¯é¡¹ç›®éƒ¨ç½²" class="headerlink" title="å‰ç«¯é¡¹ç›®éƒ¨ç½²"></a>å‰ç«¯é¡¹ç›®éƒ¨ç½²</h3><p>æ‰“åŒ…å,ç›´æ¥éƒ¨ç½²åˆ°nginxä¸Šï¼Œserveré…ç½®å¦‚ä¸‹</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="attribute">listen</span> <span class="number">8000</span>;</span><br><span class="line">       <span class="attribute">server_name</span> localhost;</span><br><span class="line">       <span class="attribute">include</span> enable-php.conf;</span><br><span class="line"> </span><br><span class="line">      <span class="section">location</span> / &#123;</span><br><span class="line">           <span class="attribute">root</span>   search-frontend/dist;   <span class="comment"># ä½ çš„distå­˜æ”¾çš„ç›®å½•</span></span><br><span class="line">           <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">           <span class="attribute">try_files</span> <span class="variable">$uri</span> /index.html;</span><br><span class="line">       &#125;</span><br><span class="line">     </span><br><span class="line">       <span class="section">location</span> /api &#123;</span><br><span class="line">           <span class="attribute">proxy_pass</span> http://locahost:8101;  <span class="comment">#ä½ çš„åç«¯çš„åœ°å€</span></span><br><span class="line">       &#125;       </span><br><span class="line">    </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="åç«¯é¡¹ç›®éƒ¨ç½²"><a href="#åç«¯é¡¹ç›®éƒ¨ç½²" class="headerlink" title="åç«¯é¡¹ç›®éƒ¨ç½²"></a>åç«¯é¡¹ç›®éƒ¨ç½²</h3><ol><li>ç¼–å†™Dockerfileæ–‡ä»¶</li></ol><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> ./search-backend.jar /tmp/search-backend.jar</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8101</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> java -jar -Duser.timezone=GMT+08  /tmp/search-backend.jar</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æ„å»ºé•œåƒ</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -f Dockerfile -t search-backend .</span><br></pre></td></tr></table></figure><ol start="3"><li>è¿è¡Œå®¹å™¨</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -id --name=search-backend -p 8101:8101 --add-host host.docker.internal:host-gateway search-backend</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨dockeréƒ¨ç½²ï¼Œlocahostè®¿é—®çš„ä¸æ˜¯å®¿ä¸»æœºï¼Œè€Œæ˜¯å®¹å™¨ã€‚éœ€è¦å°†é…ç½®æ–‡ä»¶application.ymlä¸­çš„ localhost æ›¿æ¢æˆ host.docker.internal  </p><p>ç„¶åè¿è¡Œå®¹å™¨æ—¶æ·»åŠ å‘½ä»¤ï¼š â€“add-host host.docker.internal:host-gateway</p></blockquote><p>å‚è€ƒ:</p><img src="C:\Users\å°‘å¹´\AppData\Roaming\Typora\typora-user-images\image-20230521151157993.png" alt="image-20230521151157993" style="zoom: 67%;" align="left"/>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å¼€å‘ä¿å­˜è·¯ç”±çš„æ–¹æ³•</title>
      <link href="/2023/05/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%BF%9D%E5%AD%98%E9%A1%B5%E9%9D%A2%E7%8A%B6%E6%80%81/"/>
      <url>/2023/05/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%BF%9D%E5%AD%98%E9%A1%B5%E9%9D%A2%E7%8A%B6%E6%80%81/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯å¼€å‘"><a href="#å‰ç«¯å¼€å‘" class="headerlink" title="å‰ç«¯å¼€å‘"></a>å‰ç«¯å¼€å‘</h2><p>ç”¨urlè®°å½•æœç´¢çŠ¶æ€ï¼Œå½“é¡µé¢åˆ·æ–°æ—¶ï¼Œèƒ½å¤Ÿä»urlè¿˜åŸä¹‹å‰çš„æœç´¢çŠ¶æ€</p><p>æŠ€å·§:æŠŠåŒæ­¥çŠ¶æ€æ”¹æˆå•é¡¹ï¼Œè¿è¡Œurlæ¥æ”¹å˜é¡µé¢çŠ¶æ€ï¼Œä¸å…è®¸åå‘</p><p>1ï¼Œè®©ç”¨æˆ·åœ¨æ“ä½œçš„æ—¶å€™ï¼Œæ”¹å˜urlåœ°å€ï¼ˆç‚¹å‡»æœç´¢æ¡†ï¼Œæœç´¢å†…å®¹å¡«å……åˆ°urlä¸Š?,åˆ‡æ¢tabæ—¶ï¼Œä¹Ÿè¦å¡«å……ï¼‰</p><p>2ï¼Œå½“é¡µé¢åˆ·æ–°urlæ”¹å˜çš„æ—¶å€™ï¼Œå»æ”¹å˜é¡µé¢çŠ¶æ€ï¼ˆç›‘å¬urlçš„æ”¹å˜ï¼‰</p><p>IndexPage.vue</p><p><strong>æ ¸å¿ƒä»£ç </strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>();</span><br><span class="line"><span class="keyword">const</span> activeKey = route.<span class="property">params</span>.<span class="property">category</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜å‚¨é»˜è®¤åˆå§‹å€¼</span></span><br><span class="line"><span class="keyword">const</span> initSearchParams = &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æœç´¢çš„å‚æ•°</span></span><br><span class="line">  <span class="attr">pageSize</span>: <span class="number">10</span>, <span class="comment">//é¡µæ•°</span></span><br><span class="line">  <span class="attr">pageNum</span>: <span class="number">1</span>, <span class="comment">//é¡µç </span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç”¨äºè®°å½•è·¯ç”±query</span></span><br><span class="line"><span class="keyword">const</span> searchParams = <span class="title function_">ref</span>(initSearchParams);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœç´¢æ—¶è§¦å‘</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onSearch</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  router.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">query</span>: searchParams.<span class="property">value</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢tabå¯¼èˆªæ—¶è§¦å‘</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onTabChange</span> = (<span class="params">key: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">  router.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">`/<span class="subst">$&#123;key&#125;</span>`</span>,</span><br><span class="line">    <span class="attr">query</span>: searchParams.<span class="property">value</span>, <span class="comment">//è¿™é‡ŒåŠ ä¸Šäº†query</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“è·¯ç”±æ”¹å˜æ—¶ï¼Œä¿®æ”¹searchParams</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  searchParams.<span class="property">value</span> = &#123;</span><br><span class="line">    ...initSearchParams, <span class="comment">//è§£æ„</span></span><br><span class="line">    <span class="attr">text</span>: route.<span class="property">query</span>.<span class="property">text</span>, <span class="comment">//æ‹¿åˆ°route.query.textåŒæ­¥åˆ°searchParams</span></span><br><span class="line">  &#125; <span class="keyword">as</span> <span class="built_in">never</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>index.ts è·¯ç”±</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory, <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">IndexPage</span> <span class="keyword">from</span> <span class="string">&quot;../views/IndexPage.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">Array</span>&lt;<span class="title class_">RouteRecordRaw</span>&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">IndexPage</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/:category&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">IndexPage</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿è¥å¹³å°é…ç½®æ–‡ä»¶ç¬”è®°</title>
      <link href="/2023/05/21/%E7%A1%85%E8%B0%B7%E7%94%84%E9%80%89%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/05/21/%E7%A1%85%E8%B0%B7%E7%94%84%E9%80%89%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¡…è°·ç”„é€‰è¿è¥å¹³å°"><a href="#ç¡…è°·ç”„é€‰è¿è¥å¹³å°" class="headerlink" title="ç¡…è°·ç”„é€‰è¿è¥å¹³å°"></a>ç¡…è°·ç”„é€‰è¿è¥å¹³å°</h1><h2 id="ä¸€ã€æ­å»ºåå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿"><a href="#ä¸€ã€æ­å»ºåå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿" class="headerlink" title="ä¸€ã€æ­å»ºåå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿"></a>ä¸€ã€æ­å»ºåå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿</h2><h3 id="2-1é¡¹ç›®åˆå§‹åŒ–"><a href="#2-1é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="2.1é¡¹ç›®åˆå§‹åŒ–"></a>2.1é¡¹ç›®åˆå§‹åŒ–</h3><p>ä»Šå¤©æ¥å¸¦å¤§å®¶ä»0å¼€å§‹æ­å»ºä¸€ä¸ªvue3ç‰ˆæœ¬çš„åå°ç®¡ç†ç³»ç»Ÿã€‚ä¸€ä¸ªé¡¹ç›®è¦æœ‰ç»Ÿä¸€çš„è§„èŒƒï¼Œéœ€è¦ä½¿ç”¨eslint+stylelint+prettieræ¥å¯¹æˆ‘ä»¬çš„ä»£ç è´¨é‡åšæ£€æµ‹å’Œä¿®å¤ï¼Œéœ€è¦ä½¿ç”¨huskyæ¥åšcommitæ‹¦æˆªï¼Œéœ€è¦ä½¿ç”¨commitlintæ¥ç»Ÿä¸€æäº¤è§„èŒƒï¼Œéœ€è¦ä½¿ç”¨preinstallæ¥ç»Ÿä¸€åŒ…ç®¡ç†å·¥å…·ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±ç”¨è¿™ä¸€å¥—è§„èŒƒæ¥åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®ï¼Œé›†æˆä¸€ä¸ªè§„èŒƒçš„æ¨¡ç‰ˆã€‚</p><h4 id="2-1-1ç¯å¢ƒå‡†å¤‡"><a href="#2-1-1ç¯å¢ƒå‡†å¤‡" class="headerlink" title="2.1.1ç¯å¢ƒå‡†å¤‡"></a>2.1.1ç¯å¢ƒå‡†å¤‡</h4><ul><li>node v16.14.2 </li><li>pnpm 8.0.0</li></ul><h4 id="2-1-2åˆå§‹åŒ–é¡¹ç›®"><a href="#2-1-2åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="2.1.2åˆå§‹åŒ–é¡¹ç›®"></a>2.1.2åˆå§‹åŒ–é¡¹ç›®</h4><p>æœ¬é¡¹ç›®ä½¿ç”¨viteè¿›è¡Œæ„å»ºï¼Œviteå®˜æ–¹ä¸­æ–‡æ–‡æ¡£å‚è€ƒï¼š<a href="https://cn.vitejs.dev/guide/">cn.vitejs.dev&#x2F;guide&#x2F;</a></p><p><strong>pnpm:performant npm ï¼Œæ„å‘³â€œé«˜æ€§èƒ½çš„ npmâ€ã€‚<a href="https://so.csdn.net/so/search?q=pnpm&spm=1001.2101.3001.7020">pnpm</a>ç”±npm&#x2F;yarnè¡ç”Ÿè€Œæ¥ï¼Œè§£å†³äº†npm&#x2F;yarnå†…éƒ¨æ½œåœ¨çš„bugï¼Œæå¤§çš„ä¼˜åŒ–äº†æ€§èƒ½ï¼Œæ‰©å±•äº†ä½¿ç”¨åœºæ™¯ã€‚è¢«èª‰ä¸ºâ€œæœ€å…ˆè¿›çš„åŒ…ç®¡ç†å·¥å…·â€</strong></p><p>pnpmå®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g pnpm</span><br></pre></td></tr></table></figure><p>é¡¹ç›®åˆå§‹åŒ–å‘½ä»¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm create vite</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°é¡¹ç›®æ ¹ç›®å½•pnpm installå®‰è£…å…¨éƒ¨ä¾èµ–.å®‰è£…å®Œä¾èµ–è¿è¡Œç¨‹åº:pnpm run dev</p><p>è¿è¡Œå®Œæ¯•é¡¹ç›®è·‘åœ¨<a href="http://127.0.0.1:5173/,%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E4%BD%A0%E5%BE%97%E9%A1%B9%E7%9B%AE%E5%95%A6">http://127.0.0.1:5173/,å¯ä»¥è®¿é—®ä½ å¾—é¡¹ç›®å•¦</a></p><h3 id="2-2é¡¹ç›®é…ç½®"><a href="#2-2é¡¹ç›®é…ç½®" class="headerlink" title="2.2é¡¹ç›®é…ç½®"></a>2.2é¡¹ç›®é…ç½®</h3><h4 id="ä¸€ã€eslinté…ç½®"><a href="#ä¸€ã€eslinté…ç½®" class="headerlink" title="ä¸€ã€eslinté…ç½®"></a>ä¸€ã€eslinté…ç½®</h4><p><strong>eslintä¸­æ–‡å®˜ç½‘:<a href="http://eslint.cn/">http://eslint.cn/</a></strong></p><p>ESLintæœ€åˆæ˜¯ç”±<a href="http://nczonline.net/">Nicholas C. Zakas</a> äº2013å¹´6æœˆåˆ›å»ºçš„å¼€æºé¡¹ç›®ã€‚å®ƒçš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªæ’ä»¶åŒ–çš„<strong>javascriptä»£ç æ£€æµ‹å·¥å…·</strong></p><p>é¦–å…ˆå®‰è£…eslint</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm i eslint -D</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆé…ç½®æ–‡ä»¶:.eslint.cjs</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint --init</span><br></pre></td></tr></table></figure><p><strong>.eslint.cjsé…ç½®æ–‡ä»¶</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">   //è¿è¡Œç¯å¢ƒ</span><br><span class="line">    &quot;env&quot;: &#123; </span><br><span class="line">        &quot;browser&quot;: true,//æµè§ˆå™¨ç«¯</span><br><span class="line">        &quot;es2021&quot;: true,//es2021</span><br><span class="line">    &#125;,</span><br><span class="line">    //è§„åˆ™ç»§æ‰¿</span><br><span class="line">    &quot;extends&quot;: [ </span><br><span class="line">       //å…¨éƒ¨è§„åˆ™é»˜è®¤æ˜¯å…³é—­çš„,è¿™ä¸ªé…ç½®é¡¹å¼€å¯æ¨èè§„åˆ™,æ¨èè§„åˆ™å‚ç…§æ–‡æ¡£</span><br><span class="line">       //æ¯”å¦‚:å‡½æ•°ä¸èƒ½é‡åã€å¯¹è±¡ä¸èƒ½å‡ºç°é‡å¤key</span><br><span class="line">        &quot;eslint:recommended&quot;,</span><br><span class="line">        //vue3è¯­æ³•è§„åˆ™</span><br><span class="line">        &quot;plugin:vue/vue3-essential&quot;,</span><br><span class="line">        //tsè¯­æ³•è§„åˆ™</span><br><span class="line">        &quot;plugin:@typescript-eslint/recommended&quot;</span><br><span class="line">    ],</span><br><span class="line">    //è¦ä¸ºç‰¹å®šç±»å‹çš„æ–‡ä»¶æŒ‡å®šå¤„ç†å™¨</span><br><span class="line">    &quot;overrides&quot;: [</span><br><span class="line">    ],</span><br><span class="line">    //æŒ‡å®šè§£æå™¨:è§£æå™¨</span><br><span class="line">    //Esprima é»˜è®¤è§£æå™¨</span><br><span class="line">    //Babel-ESLint babelè§£æå™¨</span><br><span class="line">    //@typescript-eslint/parser tsè§£æå™¨</span><br><span class="line">    &quot;parser&quot;: &quot;@typescript-eslint/parser&quot;,</span><br><span class="line">    //æŒ‡å®šè§£æå™¨é€‰é¡¹</span><br><span class="line">    &quot;parserOptions&quot;: &#123;</span><br><span class="line">        &quot;ecmaVersion&quot;: &quot;latest&quot;,//æ ¡éªŒECMAæœ€æ–°ç‰ˆæœ¬</span><br><span class="line">        &quot;sourceType&quot;: &quot;module&quot;//è®¾ç½®ä¸º&quot;script&quot;ï¼ˆé»˜è®¤ï¼‰ï¼Œæˆ–è€…&quot;module&quot;ä»£ç åœ¨ECMAScriptæ¨¡å—ä¸­</span><br><span class="line">    &#125;,</span><br><span class="line">    //ESLintæ”¯æŒä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚åœ¨ä½¿ç”¨æ’ä»¶ä¹‹å‰ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨npmå®‰è£…å®ƒ</span><br><span class="line">    //è¯¥eslint-plugin-å‰ç¼€å¯ä»¥ä»æ’ä»¶åç§°è¢«çœç•¥</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;vue&quot;,</span><br><span class="line">        &quot;@typescript-eslint&quot;</span><br><span class="line">    ],</span><br><span class="line">    //eslintè§„åˆ™</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-1vue3ç¯å¢ƒä»£ç æ ¡éªŒæ’ä»¶"><a href="#1-1vue3ç¯å¢ƒä»£ç æ ¡éªŒæ’ä»¶" class="headerlink" title="1.1vue3ç¯å¢ƒä»£ç æ ¡éªŒæ’ä»¶"></a>1.1vue3ç¯å¢ƒä»£ç æ ¡éªŒæ’ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># è®©æ‰€æœ‰ä¸prettierè§„åˆ™å­˜åœ¨å†²çªçš„Eslint ruleså¤±æ•ˆï¼Œå¹¶ä½¿ç”¨prettierè¿›è¡Œä»£ç æ£€æŸ¥</span><br><span class="line">&quot;eslint-config-prettier&quot;: &quot;^8.6.0&quot;,</span><br><span class="line">&quot;eslint-plugin-import&quot;: &quot;^2.27.5&quot;,</span><br><span class="line">&quot;eslint-plugin-node&quot;: &quot;^11.1.0&quot;,</span><br><span class="line"># è¿è¡Œæ›´æ¼‚äº®çš„Eslintï¼Œä½¿prettierè§„åˆ™ä¼˜å…ˆçº§æ›´é«˜ï¼ŒEslintä¼˜å…ˆçº§ä½</span><br><span class="line">&quot;eslint-plugin-prettier&quot;: &quot;^4.2.1&quot;,</span><br><span class="line"># vue.jsçš„Eslintæ’ä»¶ï¼ˆæŸ¥æ‰¾vueè¯­æ³•é”™è¯¯ï¼Œå‘ç°é”™è¯¯æŒ‡ä»¤ï¼ŒæŸ¥æ‰¾è¿è§„é£æ ¼æŒ‡å—</span><br><span class="line">&quot;eslint-plugin-vue&quot;: &quot;^9.9.0&quot;,</span><br><span class="line"># è¯¥è§£æå™¨å…è®¸ä½¿ç”¨Eslintæ ¡éªŒæ‰€æœ‰babel code</span><br><span class="line">&quot;@babel/eslint-parser&quot;: &quot;^7.19.1&quot;,</span><br></pre></td></tr></table></figure><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D eslint-plugin-import eslint-plugin-vue eslint-plugin-node eslint-plugin-prettier eslint-config-prettier eslint-plugin-node @babel/eslint-parser</span><br></pre></td></tr></table></figure><h5 id="1-2ä¿®æ”¹-eslintrc-cjsé…ç½®æ–‡ä»¶"><a href="#1-2ä¿®æ”¹-eslintrc-cjsé…ç½®æ–‡ä»¶" class="headerlink" title="1.2ä¿®æ”¹.eslintrc.cjsé…ç½®æ–‡ä»¶"></a>1.2ä¿®æ”¹.eslintrc.cjsé…ç½®æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">// @see https://eslint.bootcss.com/docs/rules/</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  env: &#123;</span><br><span class="line">    browser: true,</span><br><span class="line">    es2021: true,</span><br><span class="line">    node: true,</span><br><span class="line">    jest: true,</span><br><span class="line">  &#125;,</span><br><span class="line">  /* æŒ‡å®šå¦‚ä½•è§£æè¯­æ³• */</span><br><span class="line">  parser: &#x27;vue-eslint-parser&#x27;,</span><br><span class="line">  /** ä¼˜å…ˆçº§ä½äº parse çš„è¯­æ³•è§£æé…ç½® */</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaVersion: &#x27;latest&#x27;,</span><br><span class="line">    sourceType: &#x27;module&#x27;,</span><br><span class="line">    parser: &#x27;@typescript-eslint/parser&#x27;,</span><br><span class="line">    jsxPragma: &#x27;React&#x27;,</span><br><span class="line">    ecmaFeatures: &#123;</span><br><span class="line">      jsx: true,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  /* ç»§æ‰¿å·²æœ‰çš„è§„åˆ™ */</span><br><span class="line">  extends: [</span><br><span class="line">    &#x27;eslint:recommended&#x27;,</span><br><span class="line">    &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">    &#x27;plugin:@typescript-eslint/recommended&#x27;,</span><br><span class="line">    &#x27;plugin:prettier/recommended&#x27;,</span><br><span class="line">  ],</span><br><span class="line">  plugins: [&#x27;vue&#x27;, &#x27;@typescript-eslint&#x27;],</span><br><span class="line">  /*</span><br><span class="line">   * &quot;off&quot; æˆ– 0    ==&gt;  å…³é—­è§„åˆ™</span><br><span class="line">   * &quot;warn&quot; æˆ– 1   ==&gt;  æ‰“å¼€çš„è§„åˆ™ä½œä¸ºè­¦å‘Šï¼ˆä¸å½±å“ä»£ç æ‰§è¡Œï¼‰</span><br><span class="line">   * &quot;error&quot; æˆ– 2  ==&gt;  è§„åˆ™ä½œä¸ºä¸€ä¸ªé”™è¯¯ï¼ˆä»£ç ä¸èƒ½æ‰§è¡Œï¼Œç•Œé¢æŠ¥é”™ï¼‰</span><br><span class="line">   */</span><br><span class="line">  rules: &#123;</span><br><span class="line">    // eslintï¼ˆhttps://eslint.bootcss.com/docs/rules/ï¼‰</span><br><span class="line">    &#x27;no-var&#x27;: &#x27;error&#x27;, // è¦æ±‚ä½¿ç”¨ let æˆ– const è€Œä¸æ˜¯ var</span><br><span class="line">    &#x27;no-multiple-empty-lines&#x27;: [&#x27;warn&#x27;, &#123; max: 1 &#125;], // ä¸å…è®¸å¤šä¸ªç©ºè¡Œ</span><br><span class="line">    &#x27;no-console&#x27;: process.env.NODE_ENV === &#x27;production&#x27; ? &#x27;error&#x27; : &#x27;off&#x27;,</span><br><span class="line">    &#x27;no-debugger&#x27;: process.env.NODE_ENV === &#x27;production&#x27; ? &#x27;error&#x27; : &#x27;off&#x27;,</span><br><span class="line">    &#x27;no-unexpected-multiline&#x27;: &#x27;error&#x27;, // ç¦æ­¢ç©ºä½™çš„å¤šè¡Œ</span><br><span class="line">    &#x27;no-useless-escape&#x27;: &#x27;off&#x27;, // ç¦æ­¢ä¸å¿…è¦çš„è½¬ä¹‰å­—ç¬¦</span><br><span class="line"></span><br><span class="line">    // typeScript (https://typescript-eslint.io/rules)</span><br><span class="line">    &#x27;@typescript-eslint/no-unused-vars&#x27;: &#x27;error&#x27;, // ç¦æ­¢å®šä¹‰æœªä½¿ç”¨çš„å˜é‡</span><br><span class="line">    &#x27;@typescript-eslint/prefer-ts-expect-error&#x27;: &#x27;error&#x27;, // ç¦æ­¢ä½¿ç”¨ @ts-ignore</span><br><span class="line">    &#x27;@typescript-eslint/no-explicit-any&#x27;: &#x27;off&#x27;, // ç¦æ­¢ä½¿ç”¨ any ç±»å‹</span><br><span class="line">    &#x27;@typescript-eslint/no-non-null-assertion&#x27;: &#x27;off&#x27;,</span><br><span class="line">    &#x27;@typescript-eslint/no-namespace&#x27;: &#x27;off&#x27;, // ç¦æ­¢ä½¿ç”¨è‡ªå®šä¹‰ TypeScript æ¨¡å—å’Œå‘½åç©ºé—´ã€‚</span><br><span class="line">    &#x27;@typescript-eslint/semi&#x27;: &#x27;off&#x27;,</span><br><span class="line"></span><br><span class="line">    // eslint-plugin-vue (https://eslint.vuejs.org/rules/)</span><br><span class="line">    &#x27;vue/multi-word-component-names&#x27;: &#x27;off&#x27;, // è¦æ±‚ç»„ä»¶åç§°å§‹ç»ˆä¸º â€œ-â€ é“¾æ¥çš„å•è¯</span><br><span class="line">    &#x27;vue/script-setup-uses-vars&#x27;: &#x27;error&#x27;, // é˜²æ­¢&lt;script setup&gt;ä½¿ç”¨çš„å˜é‡&lt;template&gt;è¢«æ ‡è®°ä¸ºæœªä½¿ç”¨</span><br><span class="line">    &#x27;vue/no-mutating-props&#x27;: &#x27;off&#x27;, // ä¸å…è®¸ç»„ä»¶ propçš„æ”¹å˜</span><br><span class="line">    &#x27;vue/attribute-hyphenation&#x27;: &#x27;off&#x27;, // å¯¹æ¨¡æ¿ä¸­çš„è‡ªå®šä¹‰ç»„ä»¶å¼ºåˆ¶æ‰§è¡Œå±æ€§å‘½åæ ·å¼</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="1-3-eslintignoreå¿½ç•¥æ–‡ä»¶"><a href="#1-3-eslintignoreå¿½ç•¥æ–‡ä»¶" class="headerlink" title="1.3.eslintignoreå¿½ç•¥æ–‡ä»¶"></a>1.3.eslintignoreå¿½ç•¥æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dist</span><br><span class="line">node_modules</span><br></pre></td></tr></table></figure><h5 id="1-4è¿è¡Œè„šæœ¬"><a href="#1-4è¿è¡Œè„šæœ¬" class="headerlink" title="1.4è¿è¡Œè„šæœ¬"></a>1.4è¿è¡Œè„šæœ¬</h5><p>package.jsonæ–°å¢ä¸¤ä¸ªè¿è¡Œè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;lint&quot;: &quot;eslint src&quot;,</span><br><span class="line">    &quot;fix&quot;: &quot;eslint src --fix&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒã€é…ç½®prettier"><a href="#äºŒã€é…ç½®prettier" class="headerlink" title="äºŒã€é…ç½®prettier"></a>äºŒã€é…ç½®<strong>prettier</strong></h4><p>æœ‰äº†eslintï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰prettierï¼Ÿeslinté’ˆå¯¹çš„æ˜¯javascriptï¼Œä»–æ˜¯ä¸€ä¸ªæ£€æµ‹å·¥å…·ï¼ŒåŒ…å«jsè¯­æ³•ä»¥åŠå°‘éƒ¨åˆ†æ ¼å¼é—®é¢˜ï¼Œåœ¨eslintçœ‹æ¥ï¼Œè¯­æ³•å¯¹äº†å°±èƒ½ä¿è¯ä»£ç æ­£å¸¸è¿è¡Œï¼Œæ ¼å¼é—®é¢˜å±äºå…¶æ¬¡ï¼›</p><p>è€Œprettierå±äºæ ¼å¼åŒ–å·¥å…·ï¼Œå®ƒçœ‹ä¸æƒ¯æ ¼å¼ä¸ç»Ÿä¸€ï¼Œæ‰€ä»¥å®ƒå°±æŠŠeslintæ²¡å¹²å¥½çš„äº‹æ¥ç€å¹²ï¼Œå¦å¤–ï¼Œprettieræ”¯æŒ</p><p>åŒ…å«jsåœ¨å†…çš„å¤šç§è¯­è¨€ã€‚</p><p>æ€»ç»“èµ·æ¥ï¼Œ<strong>eslintå’Œprettierè¿™ä¿©å…„å¼Ÿä¸€ä¸ªä¿è¯jsä»£ç è´¨é‡ï¼Œä¸€ä¸ªä¿è¯ä»£ç ç¾è§‚ã€‚</strong></p><h5 id="2-1å®‰è£…ä¾èµ–åŒ…"><a href="#2-1å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="2.1å®‰è£…ä¾èµ–åŒ…"></a>2.1å®‰è£…ä¾èµ–åŒ…</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D eslint-plugin-prettier prettier eslint-config-prettier</span><br></pre></td></tr></table></figure><h5 id="2-2-prettierrc-jsonæ·»åŠ è§„åˆ™"><a href="#2-2-prettierrc-jsonæ·»åŠ è§„åˆ™" class="headerlink" title="2.2.prettierrc.jsonæ·»åŠ è§„åˆ™"></a>2.2.prettierrc.jsonæ·»åŠ è§„åˆ™</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;singleQuote&quot;: true,</span><br><span class="line">  &quot;semi&quot;: false,</span><br><span class="line">  &quot;bracketSpacing&quot;: true,</span><br><span class="line">  &quot;htmlWhitespaceSensitivity&quot;: &quot;ignore&quot;,</span><br><span class="line">  &quot;endOfLine&quot;: &quot;auto&quot;,</span><br><span class="line">  &quot;trailingComma&quot;: &quot;all&quot;,</span><br><span class="line">  &quot;tabWidth&quot;: 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-3-prettierignoreå¿½ç•¥æ–‡ä»¶"><a href="#2-3-prettierignoreå¿½ç•¥æ–‡ä»¶" class="headerlink" title="2.3.prettierignoreå¿½ç•¥æ–‡ä»¶"></a>2.3.prettierignoreå¿½ç•¥æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">/html/*</span><br><span class="line">.local</span><br><span class="line">/node_modules/**</span><br><span class="line">**/*.svg</span><br><span class="line">**/*.sh</span><br><span class="line">/public/*</span><br></pre></td></tr></table></figure><p><strong>é€šè¿‡pnpm run lintå»æ£€æµ‹è¯­æ³•ï¼Œå¦‚æœå‡ºç°ä¸è§„èŒƒæ ¼å¼,é€šè¿‡pnpm run fix ä¿®æ”¹</strong></p><h4 id="ä¸‰ã€é…ç½®stylelint"><a href="#ä¸‰ã€é…ç½®stylelint" class="headerlink" title="ä¸‰ã€é…ç½®stylelint"></a>ä¸‰ã€é…ç½®stylelint</h4><p><a href="https://stylelint.io/">stylelint</a>ä¸ºcssçš„lintå·¥å…·ã€‚å¯æ ¼å¼åŒ–cssä»£ç ï¼Œæ£€æŸ¥cssè¯­æ³•é”™è¯¯ä¸ä¸åˆç†çš„å†™æ³•ï¼ŒæŒ‡å®šcssä¹¦å†™é¡ºåºç­‰ã€‚</p><p>æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨scssä½œä¸ºé¢„å¤„ç†å™¨ï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add sass sass-loader stylelint postcss postcss-scss postcss-html stylelint-config-prettier stylelint-config-recess-order stylelint-config-recommended-scss stylelint-config-standard stylelint-config-standard-vue stylelint-scss stylelint-order stylelint-config-standard-scss -D</span><br></pre></td></tr></table></figure><h5 id="3-1-stylelintrc-cjsé…ç½®æ–‡ä»¶"><a href="#3-1-stylelintrc-cjsé…ç½®æ–‡ä»¶" class="headerlink" title="3.1.stylelintrc.cjsé…ç½®æ–‡ä»¶"></a>3.1<code>.stylelintrc.cjs</code><strong>é…ç½®æ–‡ä»¶</strong></h5><p><strong>å®˜ç½‘:<a href="https://stylelint.bootcss.com/">https://stylelint.bootcss.com/</a></strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">// @see https://stylelint.bootcss.com/</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  extends: [</span><br><span class="line">    &#x27;stylelint-config-standard&#x27;, // é…ç½®stylelintæ‹“å±•æ’ä»¶</span><br><span class="line">    &#x27;stylelint-config-html/vue&#x27;, // é…ç½® vue ä¸­ template æ ·å¼æ ¼å¼åŒ–</span><br><span class="line">    &#x27;stylelint-config-standard-scss&#x27;, // é…ç½®stylelint scssæ’ä»¶</span><br><span class="line">    &#x27;stylelint-config-recommended-vue/scss&#x27;, // é…ç½® vue ä¸­ scss æ ·å¼æ ¼å¼åŒ–</span><br><span class="line">    &#x27;stylelint-config-recess-order&#x27;, // é…ç½®stylelint csså±æ€§ä¹¦å†™é¡ºåºæ’ä»¶,</span><br><span class="line">    &#x27;stylelint-config-prettier&#x27;, // é…ç½®stylelintå’Œprettierå…¼å®¹</span><br><span class="line">  ],</span><br><span class="line">  overrides: [</span><br><span class="line">    &#123;</span><br><span class="line">      files: [&#x27;**/*.(scss|css|vue|html)&#x27;],</span><br><span class="line">      customSyntax: &#x27;postcss-scss&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      files: [&#x27;**/*.(html|vue)&#x27;],</span><br><span class="line">      customSyntax: &#x27;postcss-html&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  ignoreFiles: [</span><br><span class="line">    &#x27;**/*.js&#x27;,</span><br><span class="line">    &#x27;**/*.jsx&#x27;,</span><br><span class="line">    &#x27;**/*.tsx&#x27;,</span><br><span class="line">    &#x27;**/*.ts&#x27;,</span><br><span class="line">    &#x27;**/*.json&#x27;,</span><br><span class="line">    &#x27;**/*.md&#x27;,</span><br><span class="line">    &#x27;**/*.yaml&#x27;,</span><br><span class="line">  ],</span><br><span class="line">  /**</span><br><span class="line">   * null  =&gt; å…³é—­è¯¥è§„åˆ™</span><br><span class="line">   * always =&gt; å¿…é¡»</span><br><span class="line">   */</span><br><span class="line">  rules: &#123;</span><br><span class="line">    &#x27;value-keyword-case&#x27;: null, // åœ¨ css ä¸­ä½¿ç”¨ v-bindï¼Œä¸æŠ¥é”™</span><br><span class="line">    &#x27;no-descending-specificity&#x27;: null, // ç¦æ­¢åœ¨å…·æœ‰è¾ƒé«˜ä¼˜å…ˆçº§çš„é€‰æ‹©å™¨åå‡ºç°è¢«å…¶è¦†ç›–çš„è¾ƒä½ä¼˜å…ˆçº§çš„é€‰æ‹©å™¨</span><br><span class="line">    &#x27;function-url-quotes&#x27;: &#x27;always&#x27;, // è¦æ±‚æˆ–ç¦æ­¢ URL çš„å¼•å· &quot;always(å¿…é¡»åŠ ä¸Šå¼•å·)&quot;|&quot;never(æ²¡æœ‰å¼•å·)&quot;</span><br><span class="line">    &#x27;no-empty-source&#x27;: null, // å…³é—­ç¦æ­¢ç©ºæºç </span><br><span class="line">    &#x27;selector-class-pattern&#x27;: null, // å…³é—­å¼ºåˆ¶é€‰æ‹©å™¨ç±»åçš„æ ¼å¼</span><br><span class="line">    &#x27;property-no-unknown&#x27;: null, // ç¦æ­¢æœªçŸ¥çš„å±æ€§(true ä¸ºä¸å…è®¸)</span><br><span class="line">    &#x27;block-opening-brace-space-before&#x27;: &#x27;always&#x27;, //å¤§æ‹¬å·ä¹‹å‰å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼æˆ–ä¸èƒ½æœ‰ç©ºç™½ç¬¦</span><br><span class="line">    &#x27;value-no-vendor-prefix&#x27;: null, // å…³é—­ å±æ€§å€¼å‰ç¼€ --webkit-box</span><br><span class="line">    &#x27;property-no-vendor-prefix&#x27;: null, // å…³é—­ å±æ€§å‰ç¼€ -webkit-mask</span><br><span class="line">    &#x27;selector-pseudo-class-no-unknown&#x27;: [</span><br><span class="line">      // ä¸å…è®¸æœªçŸ¥çš„é€‰æ‹©å™¨</span><br><span class="line">      true,</span><br><span class="line">      &#123;</span><br><span class="line">        ignorePseudoClasses: [&#x27;global&#x27;, &#x27;v-deep&#x27;, &#x27;deep&#x27;], // å¿½ç•¥å±æ€§ï¼Œä¿®æ”¹elementé»˜è®¤æ ·å¼çš„æ—¶å€™èƒ½ä½¿ç”¨åˆ°</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-2-stylelintignoreå¿½ç•¥æ–‡ä»¶"><a href="#3-2-stylelintignoreå¿½ç•¥æ–‡ä»¶" class="headerlink" title="3.2.stylelintignoreå¿½ç•¥æ–‡ä»¶"></a>3.2.stylelintignoreå¿½ç•¥æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/node_modules/*</span><br><span class="line">/dist/*</span><br><span class="line">/html/*</span><br><span class="line">/public/*</span><br></pre></td></tr></table></figure><h5 id="3-3è¿è¡Œè„šæœ¬"><a href="#3-3è¿è¡Œè„šæœ¬" class="headerlink" title="3.3è¿è¡Œè„šæœ¬"></a>3.3è¿è¡Œè„šæœ¬</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">&quot;lint:style&quot;: &quot;stylelint src/**/*.&#123;css,scss,vue&#125; --cache --fix&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åé…ç½®ç»Ÿä¸€çš„prettieræ¥æ ¼å¼åŒ–æˆ‘ä»¬çš„jså’Œcssï¼Œhtmlä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">   &quot;dev&quot;: &quot;vite --open&quot;,</span><br><span class="line">   &quot;build&quot;: &quot;vue-tsc &amp;&amp; vite build&quot;,</span><br><span class="line">   &quot;preview&quot;: &quot;vite preview&quot;,</span><br><span class="line">   &quot;lint&quot;: &quot;eslint src&quot;,</span><br><span class="line">   &quot;fix&quot;: &quot;eslint src --fix&quot;,</span><br><span class="line">   &quot;format&quot;: &quot;prettier --write \&quot;./**/*.&#123;html,vue,ts,js,json,md&#125;\&quot;&quot;,</span><br><span class="line">   &quot;lint:eslint&quot;: &quot;eslint src/**/*.&#123;ts,vue&#125; --cache --fix&quot;,</span><br><span class="line">   &quot;lint:style&quot;: &quot;stylelint src/**/*.&#123;css,scss,vue&#125; --cache --fix&quot;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><p><strong>å½“æˆ‘ä»¬è¿è¡Œ<code>pnpm run format</code>çš„æ—¶å€™ï¼Œä¼šæŠŠä»£ç ç›´æ¥æ ¼å¼åŒ–</strong></p><h4 id="å››ã€é…ç½®husky"><a href="#å››ã€é…ç½®husky" class="headerlink" title="å››ã€é…ç½®husky"></a>å››ã€é…ç½®husky</h4><p>åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»é›†æˆå¥½äº†æˆ‘ä»¬ä»£ç æ ¡éªŒå·¥å…·ï¼Œä½†æ˜¯éœ€è¦æ¯æ¬¡æ‰‹åŠ¨çš„å»æ‰§è¡Œå‘½ä»¤æ‰ä¼šæ ¼å¼åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚å¦‚æœæœ‰äººæ²¡æœ‰æ ¼å¼åŒ–å°±æäº¤äº†è¿œç¨‹ä»“åº“ä¸­ï¼Œé‚£è¿™ä¸ªè§„èŒƒå°±æ²¡ä»€ä¹ˆç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼ºåˆ¶è®©å¼€å‘äººå‘˜æŒ‰ç…§ä»£ç è§„èŒƒæ¥æäº¤ã€‚</p><p>è¦åšåˆ°è¿™ä»¶äº‹æƒ…ï¼Œå°±éœ€è¦åˆ©ç”¨huskyåœ¨ä»£ç æäº¤ä¹‹å‰è§¦å‘git hook(gitåœ¨å®¢æˆ·ç«¯çš„é’©å­)ï¼Œç„¶åæ‰§è¡Œ<code>pnpm run format</code>æ¥è‡ªåŠ¨çš„æ ¼å¼åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚</p><p>å®‰è£…<code>husky</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D husky</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky-init</span><br></pre></td></tr></table></figure><p>ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸ªä¸€ä¸ª.huskyç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹é¢ä¼šæœ‰ä¸€ä¸ªpre-commitæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„å‘½ä»¤åœ¨æˆ‘ä»¬æ‰§è¡Œcommitçš„æ—¶å€™å°±ä¼šæ‰§è¡Œ</p><p>åœ¨<code>.husky/pre-commit</code>æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;</span><br><span class="line">pnpm run format</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œcommitæ“ä½œçš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œå‘½ä»¤ï¼Œå¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åå†æäº¤ã€‚</p><h4 id="äº”ã€é…ç½®commitlint"><a href="#äº”ã€é…ç½®commitlint" class="headerlink" title="äº”ã€é…ç½®commitlint"></a>äº”ã€é…ç½®commitlint</h4><p>å¯¹äºæˆ‘ä»¬çš„commitä¿¡æ¯ï¼Œä¹Ÿæ˜¯æœ‰ç»Ÿä¸€è§„èŒƒçš„ï¼Œä¸èƒ½éšä¾¿å†™,è¦è®©æ¯ä¸ªäººéƒ½æŒ‰ç…§ç»Ÿä¸€çš„æ ‡å‡†æ¥æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨<strong>commitlint</strong>æ¥å®ç°ã€‚</p><p>å®‰è£…åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add @commitlint/config-conventional @commitlint/cli -D</span><br></pre></td></tr></table></figure><p>æ·»åŠ é…ç½®æ–‡ä»¶ï¼Œæ–°å»º<code>commitlint.config.cjs</code>(æ³¨æ„æ˜¯cjs)ï¼Œç„¶åæ·»åŠ ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  extends: [&#x27;@commitlint/config-conventional&#x27;],</span><br><span class="line">  // æ ¡éªŒè§„åˆ™</span><br><span class="line">  rules: &#123;</span><br><span class="line">    &#x27;type-enum&#x27;: [</span><br><span class="line">      2,</span><br><span class="line">      &#x27;always&#x27;,</span><br><span class="line">      [</span><br><span class="line">        &#x27;feat&#x27;,</span><br><span class="line">        &#x27;fix&#x27;,</span><br><span class="line">        &#x27;docs&#x27;,</span><br><span class="line">        &#x27;style&#x27;,</span><br><span class="line">        &#x27;refactor&#x27;,</span><br><span class="line">        &#x27;perf&#x27;,</span><br><span class="line">        &#x27;test&#x27;,</span><br><span class="line">        &#x27;chore&#x27;,</span><br><span class="line">        &#x27;revert&#x27;,</span><br><span class="line">        &#x27;build&#x27;,</span><br><span class="line">      ],</span><br><span class="line">    ],</span><br><span class="line">    &#x27;type-case&#x27;: [0],</span><br><span class="line">    &#x27;type-empty&#x27;: [0],</span><br><span class="line">    &#x27;scope-empty&#x27;: [0],</span><br><span class="line">    &#x27;scope-case&#x27;: [0],</span><br><span class="line">    &#x27;subject-full-stop&#x27;: [0, &#x27;never&#x27;],</span><br><span class="line">    &#x27;subject-case&#x27;: [0, &#x27;never&#x27;],</span><br><span class="line">    &#x27;header-max-length&#x27;: [0, &#x27;always&#x27;, 72],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>package.json</code>ä¸­é…ç½®scriptså‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨scripsä¸­æ·»åŠ ä¸‹é¢çš„ä»£ç </span><br><span class="line">&#123;</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;commitlint&quot;: &quot;commitlint --config commitlint.config.cjs -e -V&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®ç»“æŸï¼Œç°åœ¨å½“æˆ‘ä»¬å¡«å†™<code>commit</code>ä¿¡æ¯çš„æ—¶å€™ï¼Œå‰é¢å°±éœ€è¦å¸¦ç€ä¸‹é¢çš„<code>subject</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x27;feat&#x27;,//æ–°ç‰¹æ€§ã€æ–°åŠŸèƒ½</span><br><span class="line">&#x27;fix&#x27;,//ä¿®æ”¹bug</span><br><span class="line">&#x27;docs&#x27;,//æ–‡æ¡£ä¿®æ”¹</span><br><span class="line">&#x27;style&#x27;,//ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹</span><br><span class="line">&#x27;refactor&#x27;,//ä»£ç é‡æ„</span><br><span class="line">&#x27;perf&#x27;,//ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</span><br><span class="line">&#x27;test&#x27;,//æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹</span><br><span class="line">&#x27;chore&#x27;,//å…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰</span><br><span class="line">&#x27;revert&#x27;,//å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br><span class="line">&#x27;build&#x27;,//ç¼–è¯‘ç›¸å…³çš„ä¿®æ”¹ï¼Œä¾‹å¦‚å‘å¸ƒç‰ˆæœ¬ã€å¯¹é¡¹ç›®æ„å»ºæˆ–è€…ä¾èµ–çš„æ”¹åŠ¨</span><br></pre></td></tr></table></figure><p>é…ç½®husky</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/commit-msg </span><br></pre></td></tr></table></figure><p>åœ¨ç”Ÿæˆçš„commit-msgæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;</span><br><span class="line">pnpm commitlint</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ commit æäº¤ä¿¡æ¯æ—¶ï¼Œå°±ä¸èƒ½å†éšæ„å†™äº†ï¼Œå¿…é¡»æ˜¯ git commit -m â€˜fix: xxxâ€™ ç¬¦åˆç±»å‹çš„æ‰å¯ä»¥ï¼Œ<strong>éœ€è¦æ³¨æ„çš„æ˜¯ç±»å‹çš„åé¢éœ€è¦ç”¨è‹±æ–‡çš„ :ï¼Œå¹¶ä¸”å†’å·åé¢æ˜¯éœ€è¦ç©ºä¸€æ ¼çš„ï¼Œè¿™ä¸ªæ˜¯ä¸èƒ½çœç•¥çš„</strong></p><h4 id="å…­ã€å¼ºåˆ¶ä½¿ç”¨pnpmåŒ…ç®¡ç†å™¨å·¥å…·"><a href="#å…­ã€å¼ºåˆ¶ä½¿ç”¨pnpmåŒ…ç®¡ç†å™¨å·¥å…·" class="headerlink" title="å…­ã€å¼ºåˆ¶ä½¿ç”¨pnpmåŒ…ç®¡ç†å™¨å·¥å…·"></a>å…­ã€å¼ºåˆ¶ä½¿ç”¨pnpmåŒ…ç®¡ç†å™¨å·¥å…·</h4><p>å›¢é˜Ÿå¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦ç»Ÿä¸€åŒ…ç®¡ç†å™¨å·¥å…·,å› ä¸ºä¸åŒåŒ…ç®¡ç†å™¨å·¥å…·ä¸‹è½½åŒä¸€ä¸ªä¾èµ–,å¯èƒ½ç‰ˆæœ¬ä¸ä¸€æ ·,</p><p>å¯¼è‡´é¡¹ç›®å‡ºç°bugé—®é¢˜,å› æ­¤åŒ…ç®¡ç†å™¨å·¥å…·éœ€è¦ç»Ÿä¸€ç®¡ç†ï¼ï¼ï¼</p><p>åœ¨æ ¹ç›®å½•åˆ›å»º<code>scritps/preinstall.js</code>æ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (!/pnpm/.test(process.env.npm_execpath || &#x27;&#x27;)) &#123;</span><br><span class="line">  console.warn(</span><br><span class="line">    `\u001b[33mThis repository must using pnpm as the package manager ` +</span><br><span class="line">    ` for scripts to work properly.\u001b[39m\n`,</span><br><span class="line">  )</span><br><span class="line">  process.exit(1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">&quot;preinstall&quot;: &quot;node ./scripts/preinstall.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å½“æˆ‘ä»¬ä½¿ç”¨npmæˆ–è€…yarnæ¥å®‰è£…åŒ…çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥é”™äº†ã€‚åŸç†å°±æ˜¯åœ¨installçš„æ—¶å€™ä¼šè§¦å‘preinstallï¼ˆnpmæä¾›çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰è¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„ä»£ç ã€‚</strong></p><h2 id="äºŒã€é¡¹ç›®é›†æˆ"><a href="#äºŒã€é¡¹ç›®é›†æˆ" class="headerlink" title="äºŒã€é¡¹ç›®é›†æˆ"></a>äºŒã€é¡¹ç›®é›†æˆ</h2><h3 id="3-1é›†æˆelement-plus"><a href="#3-1é›†æˆelement-plus" class="headerlink" title="3.1é›†æˆelement-plus"></a>3.1é›†æˆelement-plus</h3><p>ç¡…è°·ç”„é€‰è¿è¥å¹³å°,UIç»„ä»¶åº“é‡‡ç”¨çš„element-plusï¼Œå› æ­¤éœ€è¦é›†æˆelement-plusæ’ä»¶ï¼ï¼ï¼</p><p>å®˜ç½‘åœ°å€:<a href="https://element-plus.gitee.io/zh-CN/">https://element-plus.gitee.io/zh-CN/</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install element-plus @element-plus/icons-vue</span><br></pre></td></tr></table></figure><p><strong>å…¥å£æ–‡ä»¶main.tså…¨å±€å®‰è£…element-plus,element-plusé»˜è®¤æ”¯æŒè¯­è¨€è‹±è¯­è®¾ç½®ä¸ºä¸­æ–‡</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import ElementPlus from &#x27;element-plus&#x27;;</span><br><span class="line">import &#x27;element-plus/dist/index.css&#x27;</span><br><span class="line">//@ts-ignoreå¿½ç•¥å½“å‰æ–‡ä»¶tsç±»å‹çš„æ£€æµ‹å¦åˆ™æœ‰çº¢è‰²æç¤º(æ‰“åŒ…ä¼šå¤±è´¥)</span><br><span class="line">import zhCn from &#x27;element-plus/dist/locale/zh-cn.mjs&#x27;</span><br><span class="line">app.use(ElementPlus, &#123;</span><br><span class="line">    locale: zhCn</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>Element Pluså…¨å±€ç»„ä»¶ç±»å‹å£°æ˜</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// tsconfig.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    // ...</span><br><span class="line">    &quot;types&quot;: [&quot;element-plus/global&quot;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæ¯•å¯ä»¥æµ‹è¯•element-plusç»„ä»¶ä¸å›¾æ ‡çš„ä½¿ç”¨.</p><h3 id="3-2srcåˆ«åçš„é…ç½®"><a href="#3-2srcåˆ«åçš„é…ç½®" class="headerlink" title="3.2srcåˆ«åçš„é…ç½®"></a>3.2srcåˆ«åçš„é…ç½®</h3><p>åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™æ–‡ä»¶ä¸æ–‡ä»¶å…³ç³»å¯èƒ½å¾ˆå¤æ‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»™srcæ–‡ä»¶å¤¹é…ç½®ä¸€ä¸ªåˆ«åï¼ï¼ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// vite.config.ts</span><br><span class="line">import &#123;defineConfig&#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">import path from &#x27;path&#x27;</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">    plugins: [vue()],</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            &quot;@&quot;: path.resolve(&quot;./src&quot;) // ç›¸å¯¹è·¯å¾„åˆ«åé…ç½®ï¼Œä½¿ç”¨ @ ä»£æ›¿ src</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>TypeScript ç¼–è¯‘é…ç½®</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// tsconfig.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;baseUrl&quot;: &quot;./&quot;, // è§£æéç›¸å¯¹æ¨¡å—çš„åŸºåœ°å€ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•</span><br><span class="line">    &quot;paths&quot;: &#123; //è·¯å¾„æ˜ å°„ï¼Œç›¸å¯¹äºbaseUrl</span><br><span class="line">      &quot;@/*&quot;: [&quot;src/*&quot;] </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-3ç¯å¢ƒå˜é‡çš„é…ç½®"><a href="#3-3ç¯å¢ƒå˜é‡çš„é…ç½®" class="headerlink" title="3.3ç¯å¢ƒå˜é‡çš„é…ç½®"></a>3.3ç¯å¢ƒå˜é‡çš„é…ç½®</h3><p><strong>é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè‡³å°‘ä¼šç»å†å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ(å³æ­£å¼ç¯å¢ƒ)ä¸‰ä¸ªé˜¶æ®µã€‚ä¸åŒé˜¶æ®µè¯·æ±‚çš„çŠ¶æ€(å¦‚æ¥å£åœ°å€ç­‰)ä¸å°½ç›¸åŒï¼Œè‹¥æ‰‹åŠ¨åˆ‡æ¢æ¥å£åœ°å€æ˜¯ç›¸å½“ç¹çä¸”æ˜“å‡ºé”™çš„ã€‚äºæ˜¯ç¯å¢ƒå˜é‡é…ç½®çš„éœ€æ±‚å°±åº”è¿è€Œç”Ÿï¼Œæˆ‘ä»¬åªéœ€åšç®€å•çš„é…ç½®ï¼ŒæŠŠç¯å¢ƒçŠ¶æ€åˆ‡æ¢çš„å·¥ä½œäº¤ç»™ä»£ç ã€‚</strong></p><p>å¼€å‘ç¯å¢ƒï¼ˆdevelopmentï¼‰<br>é¡¾åæ€ä¹‰ï¼Œå¼€å‘ä½¿ç”¨çš„ç¯å¢ƒï¼Œæ¯ä½å¼€å‘äººå‘˜åœ¨è‡ªå·±çš„devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œå¼€å‘åˆ°ä¸€å®šç¨‹åº¦ï¼ŒåŒäº‹ä¼šåˆå¹¶ä»£ç ï¼Œè¿›è¡Œè”è°ƒã€‚</p><p>æµ‹è¯•ç¯å¢ƒï¼ˆtestingï¼‰<br>æµ‹è¯•åŒäº‹å¹²æ´»çš„ç¯å¢ƒå•¦ï¼Œä¸€èˆ¬ä¼šç”±æµ‹è¯•åŒäº‹è‡ªå·±æ¥éƒ¨ç½²ï¼Œç„¶ååœ¨æ­¤ç¯å¢ƒè¿›è¡Œæµ‹è¯•</p><p>ç”Ÿäº§ç¯å¢ƒï¼ˆproductionï¼‰<br>ç”Ÿäº§ç¯å¢ƒæ˜¯æŒ‡æ­£å¼æä¾›å¯¹å¤–æœåŠ¡çš„ï¼Œä¸€èˆ¬ä¼šå…³æ‰é”™è¯¯æŠ¥å‘Šï¼Œæ‰“å¼€é”™è¯¯æ—¥å¿—ã€‚(æ­£å¼æä¾›ç»™å®¢æˆ·ä½¿ç”¨çš„ç¯å¢ƒã€‚)</p><p>æ³¨æ„:ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç¯å¢ƒå¯¹åº”ä¸€å°æœåŠ¡å™¨,ä¹Ÿæœ‰çš„å…¬å¸å¼€å‘ä¸æµ‹è¯•ç¯å¢ƒæ˜¯ä¸€å°æœåŠ¡å™¨ï¼ï¼ï¼</p><p>é¡¹ç›®æ ¹ç›®å½•åˆ†åˆ«æ·»åŠ  å¼€å‘ã€ç”Ÿäº§å’Œæµ‹è¯•ç¯å¢ƒçš„æ–‡ä»¶!</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.env.development</span><br><span class="line">.env.production</span><br><span class="line">.env.test</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å˜é‡å¿…é¡»ä»¥ VITE_ ä¸ºå‰ç¼€æ‰èƒ½æš´éœ²ç»™å¤–éƒ¨è¯»å–</span><br><span class="line">NODE_ENV = &#x27;development&#x27;</span><br><span class="line">VITE_APP_TITLE = &#x27;ç¡…è°·ç”„é€‰è¿è¥å¹³å°&#x27;</span><br><span class="line">VITE_APP_BASE_API = &#x27;/dev-api&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV = &#x27;production&#x27;</span><br><span class="line">VITE_APP_TITLE = &#x27;ç¡…è°·ç”„é€‰è¿è¥å¹³å°&#x27;</span><br><span class="line">VITE_APP_BASE_API = &#x27;/prod-api&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å˜é‡å¿…é¡»ä»¥ VITE_ ä¸ºå‰ç¼€æ‰èƒ½æš´éœ²ç»™å¤–éƒ¨è¯»å–</span><br><span class="line">NODE_ENV = &#x27;test&#x27;</span><br><span class="line">VITE_APP_TITLE = &#x27;ç¡…è°·ç”„é€‰è¿è¥å¹³å°&#x27;</span><br><span class="line">VITE_APP_BASE_API = &#x27;/test-api&#x27;</span><br></pre></td></tr></table></figure><p>é…ç½®è¿è¡Œå‘½ä»¤ï¼špackage.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">   &quot;dev&quot;: &quot;vite --open&quot;,</span><br><span class="line">   &quot;build:test&quot;: &quot;vue-tsc &amp;&amp; vite build --mode test&quot;,</span><br><span class="line">   &quot;build:pro&quot;: &quot;vue-tsc &amp;&amp; vite build --mode production&quot;,</span><br><span class="line">   &quot;preview&quot;: &quot;vite preview&quot;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><p>é€šè¿‡import.meta.envè·å–ç¯å¢ƒå˜é‡</p><h3 id="3-4SVGå›¾æ ‡é…ç½®"><a href="#3-4SVGå›¾æ ‡é…ç½®" class="headerlink" title="3.4SVGå›¾æ ‡é…ç½®"></a>3.4SVGå›¾æ ‡é…ç½®</h3><p>åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™ç»å¸¸ä¼šç”¨åˆ°svgçŸ¢é‡å›¾,è€Œä¸”æˆ‘ä»¬ä½¿ç”¨SVGä»¥åï¼Œé¡µé¢ä¸ŠåŠ è½½çš„ä¸å†æ˜¯å›¾ç‰‡èµ„æº,</p><p>è¿™å¯¹é¡µé¢æ€§èƒ½æ¥è¯´æ˜¯ä¸ªå¾ˆå¤§çš„æå‡ï¼Œè€Œä¸”æˆ‘ä»¬SVGæ–‡ä»¶æ¯”imgè¦å°çš„å¾ˆå¤šï¼Œæ”¾åœ¨é¡¹ç›®ä¸­å‡ ä¹ä¸å ç”¨èµ„æºã€‚</p><p><strong>å®‰è£…SVGä¾èµ–æ’ä»¶</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install vite-plugin-svg-icons -D</span><br></pre></td></tr></table></figure><p><strong>åœ¨<code>vite.config.ts</code>ä¸­é…ç½®æ’ä»¶</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createSvgIconsPlugin &#125; from &#x27;vite-plugin-svg-icons&#x27;</span><br><span class="line">import path from &#x27;path&#x27;</span><br><span class="line">export default () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      createSvgIconsPlugin(&#123;</span><br><span class="line">        // Specify the icon folder to be cached</span><br><span class="line">        iconDirs: [path.resolve(process.cwd(), &#x27;src/assets/icons&#x27;)],</span><br><span class="line">        // Specify symbolId format</span><br><span class="line">        symbolId: &#x27;icon-[dir]-[name]&#x27;,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å…¥å£æ–‡ä»¶å¯¼å…¥</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;virtual:svg-icons-register&#x27;</span><br></pre></td></tr></table></figure><h4 id="3-4-1svgå°è£…ä¸ºå…¨å±€ç»„ä»¶"><a href="#3-4-1svgå°è£…ä¸ºå…¨å±€ç»„ä»¶" class="headerlink" title="3.4.1svgå°è£…ä¸ºå…¨å±€ç»„ä»¶"></a>3.4.1svgå°è£…ä¸ºå…¨å±€ç»„ä»¶</h4><p>å› ä¸ºé¡¹ç›®å¾ˆå¤šæ¨¡å—éœ€è¦ä½¿ç”¨å›¾æ ‡,å› æ­¤æŠŠå®ƒå°è£…ä¸ºå…¨å±€ç»„ä»¶ï¼ï¼ï¼</p><p><strong>åœ¨src&#x2F;componentsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªSvgIconç»„ä»¶:ä»£è¡¨å¦‚ä¸‹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;svg :style=&quot;&#123; width: width, height: height &#125;&quot;&gt;</span><br><span class="line">      &lt;use :xlink:href=&quot;prefix + name&quot; :fill=&quot;color&quot;&gt;&lt;/use&gt;</span><br><span class="line">    &lt;/svg&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">defineProps(&#123;</span><br><span class="line">  //xlink:hrefå±æ€§å€¼çš„å‰ç¼€</span><br><span class="line">  prefix: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &#x27;#icon-&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  //svgçŸ¢é‡å›¾çš„åå­—</span><br><span class="line">  name: String,</span><br><span class="line">  //svgå›¾æ ‡çš„é¢œè‰²</span><br><span class="line">  color: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &quot;&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  //svgå®½åº¦</span><br><span class="line">  width: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &#x27;16px&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  //svgé«˜åº¦</span><br><span class="line">  height: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &#x27;16px&#x27;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>åœ¨srcæ–‡ä»¶å¤¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªindex.tsæ–‡ä»¶ï¼šç”¨äºæ³¨å†Œcomponentsæ–‡ä»¶å¤¹å†…éƒ¨å…¨éƒ¨å…¨å±€ç»„ä»¶ï¼ï¼ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import SvgIcon from &#x27;./SvgIcon/index.vue&#x27;;</span><br><span class="line">import type &#123; App, Component &#125; from &#x27;vue&#x27;;</span><br><span class="line">const components: &#123; [name: string]: Component &#125; = &#123; SvgIcon &#125;;</span><br><span class="line">export default &#123;</span><br><span class="line">    install(app: App) &#123;</span><br><span class="line">        Object.keys(components).forEach((key: string) =&gt; &#123;</span><br><span class="line">            app.component(key, components[key]);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å…¥å£æ–‡ä»¶å¼•å…¥src&#x2F;index.tsæ–‡ä»¶,é€šè¿‡app.useæ–¹æ³•å®‰è£…è‡ªå®šä¹‰æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import gloablComponent from &#x27;./components/index&#x27;;</span><br><span class="line">app.use(gloablComponent);</span><br></pre></td></tr></table></figure><h3 id="3-5é›†æˆsass"><a href="#3-5é›†æˆsass" class="headerlink" title="3.5é›†æˆsass"></a>3.5é›†æˆsass</h3><p>æˆ‘ä»¬ç›®å‰åœ¨ç»„ä»¶å†…éƒ¨å·²ç»å¯ä»¥ä½¿ç”¨scssæ ·å¼,å› ä¸ºåœ¨é…ç½®styleLintå·¥å…·çš„æ—¶å€™ï¼Œé¡¹ç›®å½“ä¸­å·²ç»å®‰è£…è¿‡sass sass-loader,å› æ­¤æˆ‘ä»¬å†ç»„ä»¶å†…å¯ä»¥ä½¿ç”¨scssè¯­æ³•ï¼ï¼ï¼éœ€è¦åŠ ä¸Šlang&#x3D;â€scssâ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸ºé¡¹ç›®æ·»åŠ ä¸€äº›å…¨å±€çš„æ ·å¼</p><p>åœ¨src&#x2F;stylesç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªindex.scssæ–‡ä»¶ï¼Œå½“ç„¶é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°æ¸…é™¤é»˜è®¤æ ·å¼ï¼Œå› æ­¤åœ¨index.scsså¼•å…¥reset.scss</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import reset.scss</span><br></pre></td></tr></table></figure><p>åœ¨å…¥å£æ–‡ä»¶å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;@/styles&#x27;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä½ ä¼šå‘ç°åœ¨src&#x2F;styles&#x2F;index.scsså…¨å±€æ ·å¼æ–‡ä»¶ä¸­æ²¡æœ‰åŠæ³•ä½¿ç”¨$å˜é‡.å› æ­¤éœ€è¦ç»™é¡¹ç›®ä¸­å¼•å…¥å…¨å±€å˜é‡$.</p><p>åœ¨style&#x2F;variable.scssåˆ›å»ºä¸€ä¸ªvariable.scssæ–‡ä»¶ï¼</p><p>åœ¨vite.config.tsæ–‡ä»¶é…ç½®å¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export default defineConfig((config) =&gt; &#123;</span><br><span class="line">css: &#123;</span><br><span class="line">      preprocessorOptions: &#123;</span><br><span class="line">        scss: &#123;</span><br><span class="line">          javascriptEnabled: true,</span><br><span class="line">          additionalData: &#x27;@import &quot;./src/styles/variable.scss&quot;;&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>@import &quot;./src/styles/variable.less&quot;;</code>åé¢çš„<code>;</code>ä¸è¦å¿˜è®°ï¼Œä¸ç„¶ä¼šæŠ¥é”™</strong>!</p><p>é…ç½®å®Œæ¯•ä½ ä¼šå‘ç°scssæä¾›è¿™äº›å…¨å±€å˜é‡å¯ä»¥åœ¨ç»„ä»¶æ ·å¼ä¸­ä½¿ç”¨äº†ï¼ï¼ï¼</p><h3 id="3-6mockæ•°æ®"><a href="#3-6mockæ•°æ®" class="headerlink" title="3.6mockæ•°æ®"></a>3.6mockæ•°æ®</h3><p>å®‰è£…ä¾èµ–:<a href="https://www.npmjs.com/package/vite-plugin-mock">https://www.npmjs.com/package/vite-plugin-mock</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D vite-plugin-mock mockjs</span><br></pre></td></tr></table></figure><p>åœ¨ vite.config.js é…ç½®æ–‡ä»¶å¯ç”¨æ’ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; UserConfigExport, ConfigEnv &#125; from &#x27;vite&#x27;</span><br><span class="line">import &#123; viteMockServe &#125; from &#x27;vite-plugin-mock&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">export default (&#123; command &#125;)=&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      vue(),</span><br><span class="line">      viteMockServe(&#123;</span><br><span class="line">        localEnabled: command === &#x27;serve&#x27;,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ ¹ç›®å½•åˆ›å»ºmockæ–‡ä»¶å¤¹:å»åˆ›å»ºæˆ‘ä»¬éœ€è¦mockæ•°æ®ä¸æ¥å£ï¼ï¼ï¼</p><p>åœ¨mockæ–‡ä»¶å¤¹å†…éƒ¨åˆ›å»ºä¸€ä¸ªuser.tsæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">//ç”¨æˆ·ä¿¡æ¯æ•°æ®</span><br><span class="line">function createUserList() &#123;</span><br><span class="line">    return [</span><br><span class="line">        &#123;</span><br><span class="line">            userId: 1,</span><br><span class="line">            avatar:</span><br><span class="line">                &#x27;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&#x27;,</span><br><span class="line">            username: &#x27;admin&#x27;,</span><br><span class="line">            password: &#x27;111111&#x27;,</span><br><span class="line">            desc: &#x27;å¹³å°ç®¡ç†å‘˜&#x27;,</span><br><span class="line">            roles: [&#x27;å¹³å°ç®¡ç†å‘˜&#x27;],</span><br><span class="line">            buttons: [&#x27;cuser.detail&#x27;],</span><br><span class="line">            routes: [&#x27;home&#x27;],</span><br><span class="line">            token: &#x27;Admin Token&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            userId: 2,</span><br><span class="line">            avatar:</span><br><span class="line">                &#x27;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&#x27;,</span><br><span class="line">            username: &#x27;system&#x27;,</span><br><span class="line">            password: &#x27;111111&#x27;,</span><br><span class="line">            desc: &#x27;ç³»ç»Ÿç®¡ç†å‘˜&#x27;,</span><br><span class="line">            roles: [&#x27;ç³»ç»Ÿç®¡ç†å‘˜&#x27;],</span><br><span class="line">            buttons: [&#x27;cuser.detail&#x27;, &#x27;cuser.user&#x27;],</span><br><span class="line">            routes: [&#x27;home&#x27;],</span><br><span class="line">            token: &#x27;System Token&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default [</span><br><span class="line">    // ç”¨æˆ·ç™»å½•æ¥å£</span><br><span class="line">    &#123;</span><br><span class="line">        url: &#x27;/api/user/login&#x27;,//è¯·æ±‚åœ°å€</span><br><span class="line">        method: &#x27;post&#x27;,//è¯·æ±‚æ–¹å¼</span><br><span class="line">        response: (&#123; body &#125;) =&gt; &#123;</span><br><span class="line">            //è·å–è¯·æ±‚ä½“æºå¸¦è¿‡æ¥çš„ç”¨æˆ·åä¸å¯†ç </span><br><span class="line">            const &#123; username, password &#125; = body;</span><br><span class="line">            //è°ƒç”¨è·å–ç”¨æˆ·ä¿¡æ¯å‡½æ•°,ç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰æ­¤ç”¨æˆ·</span><br><span class="line">            const checkUser = createUserList().find(</span><br><span class="line">                (item) =&gt; item.username === username &amp;&amp; item.password === password,</span><br><span class="line">            )</span><br><span class="line">            //æ²¡æœ‰ç”¨æˆ·è¿”å›å¤±è´¥ä¿¡æ¯</span><br><span class="line">            if (!checkUser) &#123;</span><br><span class="line">                return &#123; code: 201, data: &#123; message: &#x27;è´¦å·æˆ–è€…å¯†ç ä¸æ­£ç¡®&#x27; &#125; &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            //å¦‚æœæœ‰è¿”å›æˆåŠŸä¿¡æ¯</span><br><span class="line">            const &#123; token &#125; = checkUser</span><br><span class="line">            return &#123; code: 200, data: &#123; token &#125; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // è·å–ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">    &#123;</span><br><span class="line">        url: &#x27;/api/user/info&#x27;,</span><br><span class="line">        method: &#x27;get&#x27;,</span><br><span class="line">        response: (request) =&gt; &#123;</span><br><span class="line">            //è·å–è¯·æ±‚å¤´æºå¸¦token</span><br><span class="line">            const token = request.headers.token;</span><br><span class="line">            //æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯æ˜¯å¦åŒ…å«æœ‰æ¬¡tokenç”¨æˆ·</span><br><span class="line">            const checkUser = createUserList().find((item) =&gt; item.token === token)</span><br><span class="line">            //æ²¡æœ‰è¿”å›å¤±è´¥çš„ä¿¡æ¯</span><br><span class="line">            if (!checkUser) &#123;</span><br><span class="line">                return &#123; code: 201, data: &#123; message: &#x27;è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥&#x27; &#125; &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            //å¦‚æœæœ‰è¿”å›æˆåŠŸä¿¡æ¯</span><br><span class="line">            return &#123; code: 200, data: &#123;checkUser&#125; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…axios</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install axios</span><br></pre></td></tr></table></figure><p>æœ€åé€šè¿‡axiosæµ‹è¯•æ¥å£ï¼ï¼ï¼</p><h3 id="3-7axiosäºŒæ¬¡å°è£…"><a href="#3-7axiosäºŒæ¬¡å°è£…" class="headerlink" title="3.7axiosäºŒæ¬¡å°è£…"></a>3.7axiosäºŒæ¬¡å°è£…</h3><p>åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™é¿å…ä¸äº†ä¸åç«¯è¿›è¡Œäº¤äº’,å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨axiosæ’ä»¶å®ç°å‘é€ç½‘ç»œè¯·æ±‚ã€‚åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™</p><p>æˆ‘ä»¬ç»å¸¸ä¼šæŠŠaxiosè¿›è¡ŒäºŒæ¬¡å°è£…ã€‚</p><p>ç›®çš„:</p><p>1:ä½¿ç”¨è¯·æ±‚æ‹¦æˆªå™¨ï¼Œå¯ä»¥åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­å¤„ç†ä¸€äº›ä¸šåŠ¡(å¼€å§‹è¿›åº¦æ¡ã€è¯·æ±‚å¤´æºå¸¦å…¬å…±å‚æ•°)</p><p>2:ä½¿ç”¨å“åº”æ‹¦æˆªå™¨ï¼Œå¯ä»¥åœ¨å“åº”æ‹¦æˆªå™¨ä¸­å¤„ç†ä¸€äº›ä¸šåŠ¡(è¿›åº¦æ¡ç»“æŸã€ç®€åŒ–æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€å¤„ç†httpç½‘ç»œé”™è¯¯)</p><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºutils&#x2F;request.ts</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">import &#123; ElMessage &#125; from &quot;element-plus&quot;;</span><br><span class="line">//åˆ›å»ºaxioså®ä¾‹</span><br><span class="line">let request = axios.create(&#123;</span><br><span class="line">    baseURL: import.meta.env.VITE_APP_BASE_API,</span><br><span class="line">    timeout: 5000</span><br><span class="line">&#125;)</span><br><span class="line">//è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line">request.interceptors.request.use(config =&gt; &#123;</span><br><span class="line">    return config;</span><br><span class="line">&#125;);</span><br><span class="line">//å“åº”æ‹¦æˆªå™¨</span><br><span class="line">request.interceptors.response.use((response) =&gt; &#123;</span><br><span class="line">    return response.data;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">    //å¤„ç†ç½‘ç»œé”™è¯¯</span><br><span class="line">    let msg = &#x27;&#x27;;</span><br><span class="line">    let status = error.response.status;</span><br><span class="line">    switch (status) &#123;</span><br><span class="line">        case 401:</span><br><span class="line">            msg = &quot;tokenè¿‡æœŸ&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 403:</span><br><span class="line">            msg = &#x27;æ— æƒè®¿é—®&#x27;;</span><br><span class="line">            break;</span><br><span class="line">        case 404:</span><br><span class="line">            msg = &quot;è¯·æ±‚åœ°å€é”™è¯¯&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 500:</span><br><span class="line">            msg = &quot;æœåŠ¡å™¨å‡ºç°é—®é¢˜&quot;;</span><br><span class="line">            break;</span><br><span class="line">        default:</span><br><span class="line">            msg = &quot;æ— ç½‘ç»œ&quot;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    ElMessage(&#123;</span><br><span class="line">        type: &#x27;error&#x27;,</span><br><span class="line">        message: msg</span><br><span class="line">    &#125;)</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">&#125;);</span><br><span class="line">export default request;</span><br></pre></td></tr></table></figure><h3 id="3-8APIæ¥å£ç»Ÿä¸€ç®¡ç†"><a href="#3-8APIæ¥å£ç»Ÿä¸€ç®¡ç†" class="headerlink" title="3.8APIæ¥å£ç»Ÿä¸€ç®¡ç†"></a>3.8APIæ¥å£ç»Ÿä¸€ç®¡ç†</h3><p>åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™,æ¥å£å¯èƒ½å¾ˆå¤šéœ€è¦ç»Ÿä¸€ç®¡ç†ã€‚åœ¨srcç›®å½•ä¸‹å»åˆ›å»ºapiæ–‡ä»¶å¤¹å»ç»Ÿä¸€ç®¡ç†é¡¹ç›®çš„æ¥å£ï¼›</p><p>æ¯”å¦‚:ä¸‹é¢æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">//ç»Ÿä¸€ç®¡ç†å’±ä»¬é¡¹ç›®ç”¨æˆ·ç›¸å…³çš„æ¥å£</span><br><span class="line"></span><br><span class="line">import request from &#x27;@/utils/request&#x27;</span><br><span class="line"></span><br><span class="line">import type &#123;</span><br><span class="line"></span><br><span class="line"> loginFormData,</span><br><span class="line"></span><br><span class="line"> loginResponseData,</span><br><span class="line"></span><br><span class="line"> userInfoReponseData,</span><br><span class="line"></span><br><span class="line">&#125; from &#x27;./type&#x27;</span><br><span class="line"></span><br><span class="line">//é¡¹ç›®ç”¨æˆ·ç›¸å…³çš„è¯·æ±‚åœ°å€</span><br><span class="line"></span><br><span class="line">enum API &#123;</span><br><span class="line"></span><br><span class="line"> LOGIN_URL = &#x27;/admin/acl/index/login&#x27;,</span><br><span class="line"></span><br><span class="line"> USERINFO_URL = &#x27;/admin/acl/index/info&#x27;,</span><br><span class="line"></span><br><span class="line"> LOGOUT_URL = &#x27;/admin/acl/index/logout&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//ç™»å½•æ¥å£</span><br><span class="line">export const reqLogin = (data: loginFormData) =&gt;</span><br><span class="line"> request.post&lt;any, loginResponseData&gt;(API.LOGIN_URL, data)</span><br><span class="line">//è·å–ç”¨æˆ·ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">export const reqUserInfo = () =&gt;</span><br><span class="line"></span><br><span class="line"> request.get&lt;any, userInfoReponseData&gt;(API.USERINFO_URL)</span><br><span class="line"></span><br><span class="line">//é€€å‡ºç™»å½•</span><br><span class="line"></span><br><span class="line">export const reqLogout = () =&gt; request.post&lt;any, any&gt;(API.LOGOUT_URL)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åå°ç®¡ç†é¡¹ç›® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello</title>
      <link href="/2023/05/20/%E4%BB%8B%E7%BB%8D/"/>
      <url>/2023/05/20/%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p>è¿™ç™½å¼€æ°´æ€ä¹ˆæ²¡å‘³å•Š</p>]]></content>
      
      
      <categories>
          
          <category> ä»‹ç» </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
